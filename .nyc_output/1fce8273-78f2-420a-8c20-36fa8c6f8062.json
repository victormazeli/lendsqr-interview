{"/Users/victor/work/lendsqr-test/src/test/specs/integration/routes.auth.spec.js":{"path":"/Users/victor/work/lendsqr-test/src/test/specs/integration/routes.auth.spec.js","statementMap":{"0":{"start":{"line":3,"column":17},"end":{"line":3,"column":61}},"1":{"start":{"line":5,"column":18},"end":{"line":5,"column":64}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":53}},"3":{"start":{"line":9,"column":12},"end":{"line":9,"column":51}},"4":{"start":{"line":11,"column":13},"end":{"line":11,"column":30}},"5":{"start":{"line":13,"column":14},"end":{"line":13,"column":55}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":72}},"7":{"start":{"line":17,"column":12},"end":{"line":17,"column":72}},"8":{"start":{"line":19,"column":19},"end":{"line":19,"column":80}},"9":{"start":{"line":21,"column":13},"end":{"line":21,"column":73}},"10":{"start":{"line":23,"column":39},"end":{"line":23,"column":93}},"11":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}},"12":{"start":{"line":34,"column":15},"end":{"line":34,"column":37}},"13":{"start":{"line":36,"column":0},"end":{"line":82,"column":3}},"14":{"start":{"line":37,"column":2},"end":{"line":45,"column":5}},"15":{"start":{"line":38,"column":4},"end":{"line":44,"column":7}},"16":{"start":{"line":39,"column":6},"end":{"line":43,"column":9}},"17":{"start":{"line":40,"column":8},"end":{"line":42,"column":11}},"18":{"start":{"line":41,"column":10},"end":{"line":41,"column":17}},"19":{"start":{"line":46,"column":2},"end":{"line":50,"column":5}},"20":{"start":{"line":47,"column":4},"end":{"line":49,"column":7}},"21":{"start":{"line":48,"column":6},"end":{"line":48,"column":13}},"22":{"start":{"line":51,"column":2},"end":{"line":81,"column":5}},"23":{"start":{"line":52,"column":4},"end":{"line":62,"column":7}},"24":{"start":{"line":53,"column":32},"end":{"line":57,"column":7}},"25":{"start":{"line":58,"column":18},"end":{"line":58,"column":96}},"26":{"start":{"line":59,"column":6},"end":{"line":59,"column":52}},"27":{"start":{"line":60,"column":6},"end":{"line":60,"column":42}},"28":{"start":{"line":61,"column":6},"end":{"line":61,"column":50}},"29":{"start":{"line":63,"column":4},"end":{"line":80,"column":7}},"30":{"start":{"line":64,"column":32},"end":{"line":68,"column":7}},"31":{"start":{"line":69,"column":18},"end":{"line":69,"column":96}},"32":{"start":{"line":72,"column":10},"end":{"line":72,"column":28}},"33":{"start":{"line":75,"column":10},"end":{"line":75,"column":28}},"34":{"start":{"line":76,"column":6},"end":{"line":76,"column":61}},"35":{"start":{"line":77,"column":6},"end":{"line":77,"column":43}},"36":{"start":{"line":78,"column":6},"end":{"line":78,"column":43}},"37":{"start":{"line":79,"column":6},"end":{"line":79,"column":59}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":23,"column":9},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":37},"end":{"line":23,"column":95}},"line":23},"1":{"name":"(anonymous_1)","decl":{"start":{"line":36,"column":27},"end":{"line":36,"column":28}},"loc":{"start":{"line":36,"column":33},"end":{"line":82,"column":1}},"line":36},"2":{"name":"(anonymous_2)","decl":{"start":{"line":37,"column":13},"end":{"line":37,"column":14}},"loc":{"start":{"line":37,"column":21},"end":{"line":45,"column":3}},"line":37},"3":{"name":"(anonymous_3)","decl":{"start":{"line":38,"column":43},"end":{"line":38,"column":44}},"loc":{"start":{"line":38,"column":49},"end":{"line":44,"column":5}},"line":38},"4":{"name":"(anonymous_4)","decl":{"start":{"line":39,"column":43},"end":{"line":39,"column":44}},"loc":{"start":{"line":39,"column":55},"end":{"line":43,"column":7}},"line":39},"5":{"name":"(anonymous_5)","decl":{"start":{"line":40,"column":39},"end":{"line":40,"column":40}},"loc":{"start":{"line":40,"column":45},"end":{"line":42,"column":9}},"line":40},"6":{"name":"(anonymous_6)","decl":{"start":{"line":46,"column":12},"end":{"line":46,"column":13}},"loc":{"start":{"line":46,"column":20},"end":{"line":50,"column":3}},"line":46},"7":{"name":"(anonymous_7)","decl":{"start":{"line":47,"column":43},"end":{"line":47,"column":44}},"loc":{"start":{"line":47,"column":49},"end":{"line":49,"column":5}},"line":47},"8":{"name":"(anonymous_8)","decl":{"start":{"line":51,"column":40},"end":{"line":51,"column":41}},"loc":{"start":{"line":51,"column":46},"end":{"line":81,"column":3}},"line":51},"9":{"name":"(anonymous_9)","decl":{"start":{"line":52,"column":31},"end":{"line":52,"column":32}},"loc":{"start":{"line":52,"column":43},"end":{"line":62,"column":5}},"line":52},"10":{"name":"(anonymous_10)","decl":{"start":{"line":63,"column":34},"end":{"line":63,"column":35}},"loc":{"start":{"line":63,"column":46},"end":{"line":80,"column":5}},"line":63}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":92}},"type":"cond-expr","locations":[{"start":{"line":23,"column":70},"end":{"line":23,"column":73}},{"start":{"line":23,"column":76},"end":{"line":23,"column":92}}],"line":23},"1":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":67}},"type":"binary-expr","locations":[{"start":{"line":23,"column":46},"end":{"line":23,"column":49}},{"start":{"line":23,"column":53},"end":{"line":23,"column":67}}],"line":23}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":9,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":2,"21":2,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1},"f":{"0":9,"1":1,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":1,"10":1},"b":{"0":[4,5],"1":[9,9]},"inputSourceMap":{"version":3,"sources":["routes.auth.spec.js"],"names":["process","env","NODE_ENV","should","chai","describe","beforeEach","done","client","migrate","rollback","then","latest","seed","run","afterEach","it","newAccountPayload","fullName","email","password","res","authAction","login","status","eql","OK","body","data","be","a","have","property","errors","BAD_REQUEST"],"mappings":";;AAMA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAfAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAuB,MAAvB;AACA;;AACA;;AACA;;AACA;;AAaA,MAAMC,MAAM,GAAGC,cAAKD,MAAL,EAAf;;AAEAE,QAAQ,CAAC,gBAAD,EAAmB,MAAM;AAC7BC,EAAAA,UAAU,CAAEC,IAAD,IAAU;AACjBC,mBAAOC,OAAP,CAAeC,QAAf,GAA0BC,IAA1B,CAA+B,MAAM;AACjCH,qBAAOC,OAAP,CAAeG,MAAf,GAAwBD,IAAxB,CAA6B,YAAY;AACrCH,uBAAOK,IAAP,CAAYC,GAAZ,GAAkBH,IAAlB,CAAuB,MAAM;AACzBJ,UAAAA,IAAI;AACP,SAFD;AAGH,OAJD;AAKH,KAND;AAOH,GARS,CAAV;AAUAQ,EAAAA,SAAS,CAAER,IAAD,IAAU;AAChBC,mBAAOC,OAAP,CAAeC,QAAf,GAA0BC,IAA1B,CAA+B,MAAM;AACjCJ,MAAAA,IAAI;AACP,KAFD;AAGH,GAJQ,CAAT;AAKAF,EAAAA,QAAQ,CAAC,2BAAD,EAA8B,MAAM;AACxCW,IAAAA,EAAE,CAAC,sBAAD,EAAyB,YAAY;AACnC,YAAMC,iBAAiB,GAAG;AACtBC,QAAAA,QAAQ,EAAE,UADY;AAEtBC,QAAAA,KAAK,EAAE,qBAFe;AAGtBC,QAAAA,QAAQ,EAAE;AAHY,OAA1B;AAKA,YAAMC,GAAG,GAAG,MAAMC,cAAWC,KAAX,CACdN,iBAAiB,CAACG,QADJ,EAEdH,iBAAiB,CAACE,KAFJ,CAAlB;AAIAE,MAAAA,GAAG,CAACG,MAAJ,CAAWrB,MAAX,CAAkBsB,GAAlB,CAAsBD,oBAAOE,EAA7B;AACAL,MAAAA,GAAG,CAACM,IAAJ,CAASC,IAAT,CAAczB,MAAd,CAAqB0B,EAArB,CAAwBC,CAAxB,CAA0B,QAA1B;AACAT,MAAAA,GAAG,CAACM,IAAJ,CAASC,IAAT,CAAczB,MAAd,CAAqB4B,IAArB,CAA0BC,QAA1B,CAAmC,OAAnC;AACH,KAbC,CAAF;AAcAhB,IAAAA,EAAE,CAAC,yBAAD,EAA4B,YAAY;AACtC,YAAMC,iBAAiB,GAAG;AACtBC,QAAAA,QAAQ,EAAE,UADY;AAEtBC,QAAAA,KAAK,EAAE,WAFe;AAGtBC,QAAAA,QAAQ,EAAE;AAHY,OAA1B;AAKA,YAAMC,GAAG,GAAG,MAAMC,cAAWC,KAAX,CACdN,iBAAiB,CAACG,QADJ,EAEdH,iBAAiB,CAACE,KAFJ,CAAlB;AAIA,YAAM;AAAEA,QAAAA;AAAF,UAAYE,GAAG,CAACM,IAAJ,CAASM,MAAT,CAAgB,CAAhB,CAAlB;AACA,YAAM;AAAEb,QAAAA;AAAF,UAAeC,GAAG,CAACM,IAAJ,CAASM,MAAT,CAAgB,CAAhB,CAArB;AACAZ,MAAAA,GAAG,CAACG,MAAJ,CAAWrB,MAAX,CAAkBsB,GAAlB,CAAsBD,oBAAOU,WAA7B;AACAb,MAAAA,GAAG,CAACM,IAAJ,CAASM,MAAT,CAAgB9B,MAAhB,CAAuB0B,EAAvB,CAA0BC,CAA1B,CAA4B,OAA5B;AACAX,MAAAA,KAAK,CAAChB,MAAN,CAAasB,GAAb,CAAiB,kBAAjB;AACAL,MAAAA,QAAQ,CAACjB,MAAT,CAAgBsB,GAAhB,CAAoB,+BAApB;AACH,KAhBC,CAAF;AAiBH,GAhCO,CAAR;AAiCH,CAjDO,CAAR","sourceRoot":"/Users/victor/work/lendsqr-test/src/test/specs/integration/","sourcesContent":["process.env.NODE_ENV = 'test'\n/* eslint-disable import/first */\n/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-undef */\n\nimport request from 'supertest'\nimport status from 'http-status'\nimport mocha from 'mocha'\nimport chai from 'chai'\nimport { uuid } from 'uuidv4'\nimport bycrypt from 'bcrypt'\nimport UserAction from '../../actions/routes/user'\nimport authAction from '../../actions/routes/auth'\nimport userPayload from '../../testData/payloadData'\nimport client from '../../../repository/index'\n\nconst should = chai.should()\n\ndescribe('routes testing', () => {\n    beforeEach((done) => {\n        client.migrate.rollback().then(() => {\n            client.migrate.latest().then(async () => {\n                client.seed.run().then(() => {\n                    done()\n                })\n            })\n        })\n    })\n\n    afterEach((done) => {\n        client.migrate.rollback().then(() => {\n            done()\n        })\n    })\n    describe('POST Request: /auth/login', () => {\n        it('authenticate a user ', async () => {\n            const newAccountPayload = {\n                fullName: 'testUser',\n                email: 'testuser1@gmail.com',\n                password: 'welcome@1',\n            }\n            const res = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            res.status.should.eql(status.OK)\n            res.body.data.should.be.a('object')\n            res.body.data.should.have.property('token')\n        })\n        it('should return an error ', async () => {\n            const newAccountPayload = {\n                fullName: 'testUser',\n                email: 'testuser1',\n                password: 'welcom',\n            }\n            const res = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const { email } = res.body.errors[0]\n            const { password } = res.body.errors[1]\n            res.status.should.eql(status.BAD_REQUEST)\n            res.body.errors.should.be.a('array')\n            email.should.eql('must be an email')\n            password.should.eql('must be at least 8 chars long')\n        })\n    })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ccd6ab42a8412c8789760b8b883f128e405cd75","contentHash":"948a32232b3a97fc914d255932def6e0ae8adb63cf750140f4c712976abee81b"},"/Users/victor/work/lendsqr-test/src/test/actions/routes/user.js":{"path":"/Users/victor/work/lendsqr-test/src/test/actions/routes/user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":17},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":64}},"4":{"start":{"line":12,"column":19},"end":{"line":12,"column":75}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":70}},"6":{"start":{"line":16,"column":11},"end":{"line":16,"column":58}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":93}},"8":{"start":{"line":26,"column":19},"end":{"line":32,"column":1}},"9":{"start":{"line":27,"column":14},"end":{"line":29,"column":11}},"10":{"start":{"line":31,"column":2},"end":{"line":31,"column":13}},"11":{"start":{"line":34,"column":22},"end":{"line":41,"column":1}},"12":{"start":{"line":35,"column":14},"end":{"line":38,"column":11}},"13":{"start":{"line":40,"column":2},"end":{"line":40,"column":13}},"14":{"start":{"line":43,"column":22},"end":{"line":49,"column":1}},"15":{"start":{"line":44,"column":14},"end":{"line":46,"column":11}},"16":{"start":{"line":48,"column":2},"end":{"line":48,"column":13}},"17":{"start":{"line":51,"column":22},"end":{"line":55,"column":1}},"18":{"start":{"line":52,"column":14},"end":{"line":52,"column":109}},"19":{"start":{"line":54,"column":2},"end":{"line":54,"column":13}},"20":{"start":{"line":57,"column":15},"end":{"line":62,"column":1}},"21":{"start":{"line":63,"column":0},"end":{"line":63,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":95}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":19},"end":{"line":26,"column":20}},"loc":{"start":{"line":26,"column":44},"end":{"line":32,"column":1}},"line":26},"2":{"name":"(anonymous_2)","decl":{"start":{"line":34,"column":22},"end":{"line":34,"column":23}},"loc":{"start":{"line":34,"column":57},"end":{"line":41,"column":1}},"line":34},"3":{"name":"(anonymous_3)","decl":{"start":{"line":43,"column":22},"end":{"line":43,"column":23}},"loc":{"start":{"line":43,"column":47},"end":{"line":49,"column":1}},"line":43},"4":{"name":"(anonymous_4)","decl":{"start":{"line":51,"column":22},"end":{"line":51,"column":23}},"loc":{"start":{"line":51,"column":37},"end":{"line":55,"column":1}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":92}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":92}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":1,"9":6,"10":6,"11":1,"12":2,"13":2,"14":1,"15":2,"16":2,"17":1,"18":3,"19":3,"20":1,"21":1},"f":{"0":5,"1":6,"2":2,"3":2,"4":3},"b":{"0":[3,2],"1":[5,5]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["fundWallet","amount","token","res","baseActions","sendPOSTRequest1","app","urlMapper","FUND_WALLET","transferFunds","walletId","TRANSFER_FUNDS","withdrawFunds","WITHDRAW_FUNDS","getUserAcount","sendGETRequest","GET_ACCOUNT_DETAIL"],"mappings":";;;;;;;AAIA;;AACA;;AACA;;AACA;;AACA;;;;AARA;;AACA;;AACA;AACA;AAOA,MAAMA,UAAU,GAAG,OAAOC,MAAP,EAAeC,KAAf,KAAyB;AACxC,QAAMC,GAAG,GAAGC,qBAAYC,gBAAZ,CACRC,YADQ,EAERC,mBAAUC,WAFF,EAGR;AACIP,IAAAA;AADJ,GAHQ,EAMRC,KANQ,CAAZ;;AAQA,SAAOC,GAAP;AACH,CAVD;;AAYA,MAAMM,aAAa,GAAG,OAAOR,MAAP,EAAeS,QAAf,EAAyBR,KAAzB,KAAmC;AACrD,QAAMC,GAAG,GAAGC,qBAAYC,gBAAZ,CACRC,YADQ,EAERC,mBAAUI,cAFF,EAGR;AACIV,IAAAA,MADJ;AAEIS,IAAAA;AAFJ,GAHQ,EAORR,KAPQ,CAAZ;;AASA,SAAOC,GAAP;AACH,CAXD;;AAaA,MAAMS,aAAa,GAAG,OAAOX,MAAP,EAAeC,KAAf,KAAyB;AAC3C,QAAMC,GAAG,GAAGC,qBAAYC,gBAAZ,CACRC,YADQ,EAERC,mBAAUM,cAFF,EAGR;AACIZ,IAAAA;AADJ,GAHQ,EAMRC,KANQ,CAAZ;;AAQA,SAAOC,GAAP;AACH,CAVD;;AAYA,MAAMW,aAAa,GAAG,MAAOZ,KAAP,IAAiB;AACnC,QAAMC,GAAG,GAAGC,qBAAYW,cAAZ,CACRT,YADQ,EAERC,mBAAUS,kBAFF,EAGRd,KAHQ,CAAZ;;AAKA,SAAOC,GAAP;AACH,CAPD;;eASe;AACXH,EAAAA,UADW;AAEXY,EAAAA,aAFW;AAGXH,EAAAA,aAHW;AAIXK,EAAAA;AAJW,C","sourceRoot":"/Users/victor/work/lendsqr-test/src/test/actions/routes/","sourcesContent":["/* eslint-disable no-global-assign */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-undef */\n// import testdb from \"./db/testdb\";\nimport request from 'supertest'\nimport status from 'http-status'\nimport baseActions from '../common/baseActions'\nimport urlMapper from '../../../urMappers'\nimport app from '../../../app'\n\nconst fundWallet = async (amount, token) => {\n    const res = baseActions.sendPOSTRequest1(\n        app,\n        urlMapper.FUND_WALLET,\n        {\n            amount,\n        },\n        token\n    )\n    return res\n}\n\nconst transferFunds = async (amount, walletId, token) => {\n    const res = baseActions.sendPOSTRequest1(\n        app,\n        urlMapper.TRANSFER_FUNDS,\n        {\n            amount,\n            walletId,\n        },\n        token\n    )\n    return res\n}\n\nconst withdrawFunds = async (amount, token) => {\n    const res = baseActions.sendPOSTRequest1(\n        app,\n        urlMapper.WITHDRAW_FUNDS,\n        {\n            amount,\n        },\n        token\n    )\n    return res\n}\n\nconst getUserAcount = async (token) => {\n    const res = baseActions.sendGETRequest(\n        app,\n        urlMapper.GET_ACCOUNT_DETAIL,\n        token\n    )\n    return res\n}\n\nexport default {\n    fundWallet,\n    withdrawFunds,\n    transferFunds,\n    getUserAcount,\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"275ee12b4268028c20560d1893cdc7e4533807cd","contentHash":"a8869204ef38e4b8fd5cb315bf3b56e4cd041570dfd0a51f9f3067735484075d"},"/Users/victor/work/lendsqr-test/src/test/actions/common/baseActions.js":{"path":"/Users/victor/work/lendsqr-test/src/test/actions/common/baseActions.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":17},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":22},"end":{"line":10,"column":86}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":19,"column":0},"end":{"line":19,"column":30}},"6":{"start":{"line":38,"column":24},"end":{"line":45,"column":1}},"7":{"start":{"line":39,"column":2},"end":{"line":44,"column":3}},"8":{"start":{"line":40,"column":16},"end":{"line":40,"column":186}},"9":{"start":{"line":41,"column":4},"end":{"line":41,"column":15}},"10":{"start":{"line":43,"column":4},"end":{"line":43,"column":56}},"11":{"start":{"line":49,"column":25},"end":{"line":56,"column":1}},"12":{"start":{"line":50,"column":2},"end":{"line":55,"column":3}},"13":{"start":{"line":51,"column":16},"end":{"line":51,"column":226}},"14":{"start":{"line":52,"column":4},"end":{"line":52,"column":15}},"15":{"start":{"line":54,"column":4},"end":{"line":54,"column":56}},"16":{"start":{"line":60,"column":23},"end":{"line":67,"column":1}},"17":{"start":{"line":61,"column":2},"end":{"line":66,"column":3}},"18":{"start":{"line":62,"column":16},"end":{"line":62,"column":207}},"19":{"start":{"line":63,"column":4},"end":{"line":63,"column":15}},"20":{"start":{"line":65,"column":4},"end":{"line":65,"column":55}},"21":{"start":{"line":71,"column":23},"end":{"line":78,"column":1}},"22":{"start":{"line":72,"column":2},"end":{"line":77,"column":3}},"23":{"start":{"line":73,"column":16},"end":{"line":73,"column":185}},"24":{"start":{"line":74,"column":4},"end":{"line":74,"column":15}},"25":{"start":{"line":76,"column":4},"end":{"line":76,"column":55}},"26":{"start":{"line":82,"column":26},"end":{"line":89,"column":1}},"27":{"start":{"line":83,"column":2},"end":{"line":88,"column":3}},"28":{"start":{"line":84,"column":16},"end":{"line":84,"column":210}},"29":{"start":{"line":85,"column":4},"end":{"line":85,"column":15}},"30":{"start":{"line":87,"column":4},"end":{"line":87,"column":58}},"31":{"start":{"line":91,"column":15},"end":{"line":98,"column":1}},"32":{"start":{"line":99,"column":0},"end":{"line":99,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":38,"column":24},"end":{"line":38,"column":25}},"loc":{"start":{"line":38,"column":69},"end":{"line":45,"column":1}},"line":38},"2":{"name":"(anonymous_2)","decl":{"start":{"line":49,"column":25},"end":{"line":49,"column":26}},"loc":{"start":{"line":49,"column":77},"end":{"line":56,"column":1}},"line":49},"3":{"name":"(anonymous_3)","decl":{"start":{"line":60,"column":23},"end":{"line":60,"column":24}},"loc":{"start":{"line":60,"column":62},"end":{"line":67,"column":1}},"line":60},"4":{"name":"(anonymous_4)","decl":{"start":{"line":71,"column":23},"end":{"line":71,"column":24}},"loc":{"start":{"line":71,"column":68},"end":{"line":78,"column":1}},"line":71},"5":{"name":"(anonymous_5)","decl":{"start":{"line":82,"column":26},"end":{"line":82,"column":27}},"loc":{"start":{"line":82,"column":65},"end":{"line":89,"column":1}},"line":82}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":13,"8":13,"9":13,"10":0,"11":1,"12":10,"13":10,"14":10,"15":0,"16":1,"17":3,"18":3,"19":3,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":1,"32":1},"f":{"0":2,"1":13,"2":10,"3":3,"4":0,"5":0},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["baseActions.js"],"names":["process","env","NODE_ENV","sendPOSTRequest","baseUrl","apiEndPoint","requestBody","res","post","retry","set","Headers","ACCEPT_JSON","APPLICATION_JSON","send","err","console","log","sendPOSTRequest1","token","sendGETRequest","get","sendPUTRequest","put","sendDELETERequest","delete"],"mappings":"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","sourceRoot":"/Users/victor/work/lendsqr-test/src/test/actions/common/","sourcesContent":["/* eslint-disable import/first */\n/* eslint-disable consistent-return */\n/* eslint-disable no-console */\nprocess.env.NODE_ENV = 'test'\n\nimport supertest from 'supertest'\nimport Headers from '../../testData/defaultHeaders'\n\n// const getBaseURL = () => {\n//     let baseURL = ''\n//     try {\n//         baseURL = process.env.ENVIRONMENT\n//         console.log(`BaseURL : ${baseURL}`)\n//     } catch (err) {\n//         throw new Error(\n//             `BASE URL is not Defined, Please Specify the BASE URL : ${process.env.ENVIRONMENT}`\n//         )\n//     }\n//     const BaseURLSpecifications = {\n//         BASE_URL: baseURL,\n//     }\n//     return BaseURLSpecifications.BASE_URL\n// }\n\n/** This sendPOSTRequest can be used when you dont need to pass a token while performing a POST operation * */\n\nconst sendPOSTRequest = async (baseUrl, apiEndPoint, requestBody) => {\n    try {\n        const res = await supertest(baseUrl)\n            .post(apiEndPoint)\n            .retry(2)\n            .set(Headers.ACCEPT_JSON)\n            .set(Headers.APPLICATION_JSON)\n            .send(requestBody)\n        return res\n    } catch (err) {\n        console.log('Error in sending POST Request: ', err)\n    }\n}\n\n/** This sendPOSTRequest1 can be used when you will be passing a token and body params while performing a POST operation * */\n\nconst sendPOSTRequest1 = async (baseUrl, apiEndPoint, requestBody, token) => {\n    try {\n        const res = await supertest(baseUrl)\n            .post(apiEndPoint)\n            .retry(2)\n            .set(Headers.ACCEPT_JSON)\n            .set(Headers.APPLICATION_JSON)\n            .set('Authorization', `Bearer ${token}`)\n            .send(requestBody)\n        return res\n    } catch (err) {\n        console.log('Error in sending POST Request: ', err)\n    }\n}\n\n/** This sendGETRequest can be used when you will be passing a token while performing a GET operation * */\n\nconst sendGETRequest = async (baseUrl, apiEndPoint, token) => {\n    try {\n        const res = await supertest(baseUrl)\n            .get(apiEndPoint)\n            .retry(2)\n            .set(Headers.ACCEPT_JSON)\n            .set(Headers.APPLICATION_JSON)\n            .set('Authorization', `Bearer ${token}`)\n        return res\n    } catch (err) {\n        console.log('Error in sending GET Request: ', err)\n    }\n}\n\n/** This sendPUTRequest can be used when you will be passing a token and body params while performing a PUT operation * */\n\nconst sendPUTRequest = async (baseUrl, apiEndPoint, requestBody) => {\n    try {\n        const res = await supertest(baseUrl)\n            .put(apiEndPoint)\n            .retry(2)\n            .set(Headers.ACCEPT_JSON)\n            .set(Headers.APPLICATION_JSON)\n            .send(requestBody)\n        return res\n    } catch (err) {\n        console.log('Error in sending PUT Request: ', err)\n    }\n}\n\n/** This sendDELETERequest can be used when you will be passing a token while performing a DELETE operation * */\n\nconst sendDELETERequest = async (baseUrl, apiEndPoint, token) => {\n    try {\n        const res = await supertest(baseUrl)\n            .delete(apiEndPoint)\n            .retry(2)\n            .set(Headers.ACCEPT_JSON)\n            .set(Headers.APPLICATION_JSON)\n            .set('Authorization', `Bearer ${token}`)\n        return res\n    } catch (err) {\n        console.log('Error in sending DELETE Request: ', err)\n    }\n}\n\nexport default {\n    sendDELETERequest,\n    sendGETRequest,\n    sendPOSTRequest,\n    sendPUTRequest,\n    sendPOSTRequest1,\n    // getBaseURL,\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b9784accb07170e0469aba9e3be8117b1e5eeef5","contentHash":"3b27ec904311baf92c407fd9fd1e70501696e0ae7cc22252af13fbc754efdb57"},"/Users/victor/work/lendsqr-test/src/test/testData/defaultHeaders.js":{"path":"/Users/victor/work/lendsqr-test/src/test/testData/defaultHeaders.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":16},"end":{"line":14,"column":1}},"3":{"start":{"line":15,"column":15},"end":{"line":15,"column":22}},"4":{"start":{"line":16,"column":0},"end":{"line":16,"column":27}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["defaultHeaders.js"],"names":["Headers","APPLICATION_JSON","ACCEPT_JSON","Accept"],"mappings":";;;;;;AAAA,MAAMA,OAAO,GAAG;AACZC,EAAAA,gBAAgB,EAAE;AAAE,oBAAgB;AAAlB,GADN;AAEZC,EAAAA,WAAW,EAAE;AAAEC,IAAAA,MAAM,EAAE;AAAV;AAFD,CAAhB;eAKeH,O","sourceRoot":"/Users/victor/work/lendsqr-test/src/test/testData/","sourcesContent":["const Headers = {\n    APPLICATION_JSON: { 'Content-Type': 'application/json' },\n    ACCEPT_JSON: { Accept: 'application/json' },\n}\n\nexport default Headers\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9978c0805367c6a4b4b29aaa92c83121b23a745d","contentHash":"7d4b8a94de217bfaa98f17fda70a6132eeb6a1f5b734b7f3a98706b05de116c1"},"/Users/victor/work/lendsqr-test/src/urMappers.js":{"path":"/Users/victor/work/lendsqr-test/src/urMappers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":18},"end":{"line":14,"column":1}},"3":{"start":{"line":15,"column":15},"end":{"line":15,"column":24}},"4":{"start":{"line":16,"column":0},"end":{"line":16,"column":27}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["urMappers.js"],"names":["urlMapper","LOGIN","CREATE_NEW_ACCOUNT","TRANSFER_FUNDS","WITHDRAW_FUNDS","FUND_WALLET","GET_ACCOUNT_DETAIL"],"mappings":";;;;;;AAAA,MAAMA,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE,aADO;AAEdC,EAAAA,kBAAkB,EAAE,uBAFN;AAGdC,EAAAA,cAAc,EAAE,sBAHF;AAIdC,EAAAA,cAAc,EAAE,sBAJF;AAKdC,EAAAA,WAAW,EAAE,mBALC;AAMdC,EAAAA,kBAAkB,EAAE;AANN,CAAlB;eASeN,S","sourceRoot":"/Users/victor/work/lendsqr-test/src/","sourcesContent":["const urlMapper = {\n    LOGIN: '/auth/login',\n    CREATE_NEW_ACCOUNT: '/register/new/account',\n    TRANSFER_FUNDS: '/user/transfer/funds',\n    WITHDRAW_FUNDS: '/user/withdraw/funds',\n    FUND_WALLET: '/user/fund/wallet',\n    GET_ACCOUNT_DETAIL: '/user/account',\n}\n\nexport default urlMapper\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0977a601e473acc2653bd29eaa3fd11f0504daaa","contentHash":"cbdb87ce119e1407424a09685fc6bea732698d4c9be5f6dbdae60668f26e60d0"},"/Users/victor/work/lendsqr-test/src/app.js":{"path":"/Users/victor/work/lendsqr-test/src/app.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":24},"end":{"line":12,"column":77}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":59}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":62}},"7":{"start":{"line":18,"column":14},"end":{"line":18,"column":67}},"8":{"start":{"line":20,"column":21},"end":{"line":20,"column":59}},"9":{"start":{"line":22,"column":21},"end":{"line":22,"column":83}},"10":{"start":{"line":24,"column":19},"end":{"line":24,"column":77}},"11":{"start":{"line":26,"column":39},"end":{"line":26,"column":93}},"12":{"start":{"line":30,"column":12},"end":{"line":30,"column":35}},"13":{"start":{"line":31,"column":0},"end":{"line":31,"column":33}},"14":{"start":{"line":32,"column":0},"end":{"line":32,"column":45}},"15":{"start":{"line":33,"column":0},"end":{"line":35,"column":4}},"16":{"start":{"line":36,"column":0},"end":{"line":36,"column":40}},"17":{"start":{"line":37,"column":0},"end":{"line":40,"column":3}},"18":{"start":{"line":38,"column":2},"end":{"line":38,"column":53}},"19":{"start":{"line":39,"column":2},"end":{"line":39,"column":9}},"20":{"start":{"line":41,"column":0},"end":{"line":41,"column":106}},"21":{"start":{"line":42,"column":0},"end":{"line":42,"column":24}},"22":{"start":{"line":43,"column":0},"end":{"line":43,"column":38}},"23":{"start":{"line":44,"column":0},"end":{"line":44,"column":37}},"24":{"start":{"line":46,"column":0},"end":{"line":48,"column":3}},"25":{"start":{"line":47,"column":2},"end":{"line":47,"column":37}},"26":{"start":{"line":49,"column":15},"end":{"line":49,"column":18}},"27":{"start":{"line":50,"column":0},"end":{"line":50,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":31}},"loc":{"start":{"line":26,"column":37},"end":{"line":26,"column":95}},"line":26},"1":{"name":"(anonymous_1)","decl":{"start":{"line":37,"column":13},"end":{"line":37,"column":14}},"loc":{"start":{"line":37,"column":33},"end":{"line":40,"column":1}},"line":37},"2":{"name":"(anonymous_2)","decl":{"start":{"line":46,"column":33},"end":{"line":46,"column":34}},"loc":{"start":{"line":46,"column":40},"end":{"line":48,"column":1}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":26,"column":46},"end":{"line":26,"column":92}},"type":"cond-expr","locations":[{"start":{"line":26,"column":70},"end":{"line":26,"column":73}},{"start":{"line":26,"column":76},"end":{"line":26,"column":92}}],"line":26},"1":{"loc":{"start":{"line":26,"column":46},"end":{"line":26,"column":67}},"type":"binary-expr","locations":[{"start":{"line":26,"column":46},"end":{"line":26,"column":49}},{"start":{"line":26,"column":53},"end":{"line":26,"column":67}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":8,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":1},"f":{"0":8,"1":0,"2":0},"b":{"0":[3,5],"1":[8,8]},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["app","use","express","json","passport","stream","winston","initialize","get","req","res","next","status","send","swaggerUi","serve","setup","swaggerFiles","routes","notFound","errorHandler","process","on","err","logger","error","message"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;AACA;;;;AAXA;AAKA;AAQA,MAAMA,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AAEA,0BAAsBC,iBAAtB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,qBAAO,UAAP,EAAmB;AAAEI,EAAAA,MAAM,EAAEC,gBAAQD;AAAlB,CAAnB,CAAR;AAEAL,GAAG,CAACC,GAAJ,CAAQG,kBAASG,UAAT,EAAR;AACAP,GAAG,CAACQ,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC7BD,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,4BAArB;AACAF,EAAAA,IAAI;AACP,CAHD;AAIAX,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBa,0BAAUC,KAA1B,EAAiCD,0BAAUE,KAAV,CAAgBC,sBAAhB,CAAjC;AACAjB,GAAG,CAACC,GAAJ,CAAQiB,cAAR;AACAlB,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAakB,uBAAb;AACAnB,GAAG,CAACC,GAAJ,CAAQmB,2BAAR,E,CACA;;AAEAC,OAAO,CAACC,EAAR,CAAW,oBAAX,EAAkCC,GAAD,IAAS;AACtCC,kBAAOC,KAAP,CAAaF,GAAG,CAACG,OAAjB;AACH,CAFD;eAIe1B,G","sourceRoot":"/Users/victor/work/lendsqr-test/src/","sourcesContent":["/* eslint-disable import/no-duplicates */\nimport express from 'express'\nimport morgan from 'morgan'\nimport swaggerUi from 'swagger-ui-express'\nimport passport from 'passport'\n// import { errors } from 'celebrate'\nimport routes from './routes/index'\nimport winston from './utilities/logger'\nimport { errorHandler, notFound } from './middlewares/errorhandlers'\nimport logger from './utilities/logger'\nimport swaggerFiles from '../docs/swagger-output.json'\nimport applyPassportStrategy from './passport/jwt-strategy'\n\nconst app = express()\n\napp.use(express.json())\n\napplyPassportStrategy(passport)\napp.use(morgan('combined', { stream: winston.stream }))\n\napp.use(passport.initialize())\napp.get('/', (req, res, next) => {\n    res.status(200).send('welcome Testing api Health')\n    next()\n})\napp.use('/doc', swaggerUi.serve, swaggerUi.setup(swaggerFiles))\napp.use(routes)\napp.use('*', notFound)\napp.use(errorHandler)\n// eventBus.receive();\n\nprocess.on('unhandledRejection', (err) => {\n    logger.error(err.message)\n})\n\nexport default app\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"05e14e6e30d033003c6a852a0e0ae5ed2629eab0","contentHash":"4574fc558abeb6a9a60b4353b8150ac45626fa152544b02a08f1c97f2a503a33"},"/Users/victor/work/lendsqr-test/src/routes/index.js":{"path":"/Users/victor/work/lendsqr-test/src/routes/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":16},"end":{"line":12,"column":61}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":53}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":12},"end":{"line":18,"column":35}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":32}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":40}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":32}},"11":{"start":{"line":22,"column":15},"end":{"line":22,"column":18}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":4},"b":{"0":[3,1],"1":[4,4]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["app","use","userRoutes","registerRoutes","authRoutes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBC,aAAjB;AACAF,GAAG,CAACC,GAAJ,CAAQ,WAAR,EAAqBE,iBAArB;AACAH,GAAG,CAACC,GAAJ,CAAQ,OAAR,EAAiBG,aAAjB;eAEeJ,G","sourceRoot":"/Users/victor/work/lendsqr-test/src/routes/","sourcesContent":["import express from 'express'\nimport userRoutes from './user'\nimport registerRoutes from './register'\nimport authRoutes from './auth'\n\nconst app = express()\n\napp.use('/user', userRoutes)\napp.use('/register', registerRoutes)\napp.use('/auth', authRoutes)\n\nexport default app\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"22ca6656dd8cc493bbc3b43deab6160786bf99a4","contentHash":"8cf0355f2aef825bcd044ee42901504b18df3d9d1bbc3d5fb5dbca0b24bda4cc"},"/Users/victor/work/lendsqr-test/src/routes/user.js":{"path":"/Users/victor/work/lendsqr-test/src/routes/user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":21},"end":{"line":10,"column":60}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":77}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":66}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":49}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":93}},"8":{"start":{"line":20,"column":15},"end":{"line":20,"column":37}},"9":{"start":{"line":26,"column":4},"end":{"line":26,"column":17}},"10":{"start":{"line":27,"column":0},"end":{"line":27,"column":128}},"11":{"start":{"line":28,"column":0},"end":{"line":28,"column":124}},"12":{"start":{"line":29,"column":0},"end":{"line":29,"column":118}},"13":{"start":{"line":30,"column":0},"end":{"line":30,"column":61}},"14":{"start":{"line":31,"column":15},"end":{"line":31,"column":21}},"15":{"start":{"line":32,"column":0},"end":{"line":32,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":95}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":92}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":92}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1},"f":{"0":2},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["router","getUserAccount","transferFund","withdrawfunds","fundWallet","UserContoller","post","validate","get"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAKA,MAAMA,MAAM,GAAG,sBAAf;AAEA,MAAM;AAAEC,EAAAA,cAAF;AAAkBC,EAAAA,YAAlB;AAAgCC,EAAAA,aAAhC;AAA+CC,EAAAA;AAA/C,IACFC,aADJ;AAGAL,MAAM,CAACM,IAAP,CACI,iBADJ,EAEI,oBAFJ,EAGI,kCAHJ,EAIIC,uBAJJ,EAKIL,YALJ;AAOAF,MAAM,CAACM,IAAP,CACI,iBADJ,EAEI,oBAFJ,EAGI,6BAHJ,EAIIC,uBAJJ,EAKIJ,aALJ;AAOAH,MAAM,CAACM,IAAP,CACI,cADJ,EAEI,oBAFJ,EAGI,6BAHJ,EAIIC,uBAJJ,EAKIH,UALJ;AAOAJ,MAAM,CAACQ,GAAP,CAAW,UAAX,EAAuB,oBAAvB,EAAoCP,cAApC;eAEeD,M","sourceRoot":"/Users/victor/work/lendsqr-test/src/routes/","sourcesContent":["import { Router } from 'express'\nimport { validate } from '../middlewares/errorhandlers'\nimport UserContoller from '../controllers/user.controller'\nimport authGuard from '../middlewares/auth'\nimport {\n    tranxFundsBodySchema,\n    fundsBodySchema,\n} from '../validators/user.schema'\n\nconst router = Router()\n\nconst { getUserAccount, transferFund, withdrawfunds, fundWallet } =\n    UserContoller\n\nrouter.post(\n    '/transfer/funds',\n    authGuard(),\n    tranxFundsBodySchema(),\n    validate,\n    transferFund\n)\nrouter.post(\n    '/withdraw/funds',\n    authGuard(),\n    fundsBodySchema(),\n    validate,\n    withdrawfunds\n)\nrouter.post(\n    '/fund/wallet',\n    authGuard(),\n    fundsBodySchema(),\n    validate,\n    fundWallet\n)\nrouter.get('/account', authGuard(), getUserAccount)\n\nexport default router\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"23898d1f3651f9cbc787fa5316f3bdb8d9e5ce55","contentHash":"57a164e0d70c77420227bc3e1d0d528b4ccd9a13d583d5393567b6b9ad08305c"},"/Users/victor/work/lendsqr-test/src/middlewares/errorhandlers.js":{"path":"/Users/victor/work/lendsqr-test/src/middlewares/errorhandlers.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":68}},"2":{"start":{"line":8,"column":24},"end":{"line":8,"column":52}},"3":{"start":{"line":13,"column":17},"end":{"line":18,"column":1}},"4":{"start":{"line":14,"column":2},"end":{"line":16,"column":5}},"5":{"start":{"line":17,"column":2},"end":{"line":17,"column":9}},"6":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}},"7":{"start":{"line":22,"column":17},"end":{"line":36,"column":1}},"8":{"start":{"line":23,"column":17},"end":{"line":23,"column":61}},"9":{"start":{"line":25,"column":2},"end":{"line":27,"column":3}},"10":{"start":{"line":26,"column":4},"end":{"line":26,"column":18}},"11":{"start":{"line":29,"column":26},"end":{"line":29,"column":28}},"12":{"start":{"line":30,"column":2},"end":{"line":32,"column":6}},"13":{"start":{"line":30,"column":28},"end":{"line":32,"column":4}},"14":{"start":{"line":33,"column":2},"end":{"line":35,"column":5}},"15":{"start":{"line":38,"column":0},"end":{"line":38,"column":28}},"16":{"start":{"line":40,"column":21},"end":{"line":54,"column":1}},"17":{"start":{"line":41,"column":2},"end":{"line":51,"column":3}},"18":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"19":{"start":{"line":43,"column":6},"end":{"line":43,"column":27}},"20":{"start":{"line":47,"column":4},"end":{"line":50,"column":7}},"21":{"start":{"line":53,"column":2},"end":{"line":53,"column":9}},"22":{"start":{"line":56,"column":0},"end":{"line":56,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":37},"end":{"line":18,"column":1}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":17},"end":{"line":22,"column":18}},"loc":{"start":{"line":22,"column":37},"end":{"line":36,"column":1}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":30,"column":21},"end":{"line":30,"column":22}},"loc":{"start":{"line":30,"column":28},"end":{"line":32,"column":4}},"line":30},"3":{"name":"(anonymous_3)","decl":{"start":{"line":40,"column":21},"end":{"line":40,"column":22}},"loc":{"start":{"line":40,"column":46},"end":{"line":54,"column":1}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":25,"column":2},"end":{"line":27,"column":3}},"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":27,"column":3}},{"start":{"line":25,"column":2},"end":{"line":27,"column":3}}],"line":25},"1":{"loc":{"start":{"line":41,"column":2},"end":{"line":51,"column":3}},"type":"if","locations":[{"start":{"line":41,"column":2},"end":{"line":51,"column":3}},{"start":{"line":41,"column":2},"end":{"line":51,"column":3}}],"line":41},"2":{"loc":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},{"start":{"line":42,"column":4},"end":{"line":44,"column":5}}],"line":42}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":1,"8":23,"9":23,"10":17,"11":6,"12":6,"13":9,"14":6,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"f":{"0":0,"1":23,"2":9,"3":0},"b":{"0":[17,6],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["errorhandlers.js"],"names":["notFound","req","res","next","status","json","message","validate","errors","isEmpty","extractedErrors","array","map","err","push","param","msg","errorHandler","statusCode","send"],"mappings":";;;;;;;AAEA;;AAFA;;AACA;AAGO,MAAMA,QAAQ,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,IAAAA,OAAO,EAAE;AADQ,GAArB;AAGAH,EAAAA,IAAI;AACP,CALM;;;;AAOA,MAAMI,QAAQ,GAAG,CAACN,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxC,QAAMK,MAAM,GAAG,wCAAiBP,GAAjB,CAAf;;AACA,MAAIO,MAAM,CAACC,OAAP,EAAJ,EAAsB;AAClB,WAAON,IAAI,EAAX;AACH;;AACD,QAAMO,eAAe,GAAG,EAAxB;AACAF,EAAAA,MAAM,CAACG,KAAP,GAAeC,GAAf,CAAoBC,GAAD,IAASH,eAAe,CAACI,IAAhB,CAAqB;AAAE,KAACD,GAAG,CAACE,KAAL,GAAaF,GAAG,CAACG;AAAnB,GAArB,CAA5B;AAEA,SAAOd,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBG,IAAAA,MAAM,EAAEE;AADgB,GAArB,CAAP;AAGH,CAXM;;;;AAaA,MAAMO,YAAY,GAAG,CAACJ,GAAD,EAAMZ,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AACjD,MAAIU,GAAJ,EAAS;AACL,QAAI,CAACA,GAAG,CAACK,UAAT,EAAqB;AACjBL,MAAAA,GAAG,CAACK,UAAJ,GAAiB,GAAjB;AACH,KAHI,CAGH;;;AACF,WAAOhB,GAAG,CAACE,MAAJ,CAAWS,GAAG,CAACK,UAAf,EAA2BC,IAA3B,CAAgC;AACnCD,MAAAA,UAAU,EAAEL,GAAG,CAACK,UADmB;AAEnCZ,MAAAA,OAAO,EAAEO,GAAG,CAACP;AAFsB,KAAhC,CAAP;AAIH;;AAEDH,EAAAA,IAAI;AACP,CAZM","sourceRoot":"/Users/victor/work/lendsqr-test/src/middlewares/","sourcesContent":["/* eslint-disable consistent-return */\n/* eslint-disable no-param-reassign */\nimport { validationResult } from 'express-validator'\n\nexport const notFound = (req, res, next) => {\n    res.status(404).json({\n        message: 'Page not found',\n    })\n    next()\n}\n\nexport const validate = (req, res, next) => {\n    const errors = validationResult(req)\n    if (errors.isEmpty()) {\n        return next()\n    }\n    const extractedErrors = []\n    errors.array().map((err) => extractedErrors.push({ [err.param]: err.msg }))\n\n    return res.status(400).json({\n        errors: extractedErrors,\n    })\n}\n\nexport const errorHandler = (err, req, res, next) => {\n    if (err) {\n        if (!err.statusCode) {\n            err.statusCode = 500\n        } // Set 500 server code error if statuscode not set\n        return res.status(err.statusCode).send({\n            statusCode: err.statusCode,\n            message: err.message,\n        })\n    }\n\n    next()\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e93d35f9394d4d9064a98bbf1b102a25c1a34d1d","contentHash":"fe6b894f08af8a4e33343a854ad5038cdfc232b1d3a195fea4360586c3b7dfe5"},"/Users/victor/work/lendsqr-test/src/controllers/user.controller.js":{"path":"/Users/victor/work/lendsqr-test/src/controllers/user.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":68}},"3":{"start":{"line":10,"column":17},"end":{"line":10,"column":74}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":65}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":69}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":33,"column":8},"end":{"line":33,"column":16}},"8":{"start":{"line":34,"column":4},"end":{"line":34,"column":26}},"9":{"start":{"line":36,"column":4},"end":{"line":48,"column":5}},"10":{"start":{"line":37,"column":25},"end":{"line":37,"column":63}},"11":{"start":{"line":39,"column":6},"end":{"line":41,"column":7}},"12":{"start":{"line":40,"column":8},"end":{"line":40,"column":88}},"13":{"start":{"line":43,"column":6},"end":{"line":43,"column":116}},"14":{"start":{"line":45,"column":6},"end":{"line":45,"column":35}},"15":{"start":{"line":47,"column":6},"end":{"line":47,"column":81}},"16":{"start":{"line":63,"column":8},"end":{"line":63,"column":16}},"17":{"start":{"line":66,"column":8},"end":{"line":66,"column":16}},"18":{"start":{"line":68,"column":4},"end":{"line":78,"column":5}},"19":{"start":{"line":69,"column":25},"end":{"line":69,"column":63}},"20":{"start":{"line":70,"column":26},"end":{"line":70,"column":56}},"21":{"start":{"line":71,"column":6},"end":{"line":71,"column":66}},"22":{"start":{"line":72,"column":25},"end":{"line":72,"column":63}},"23":{"start":{"line":73,"column":6},"end":{"line":73,"column":110}},"24":{"start":{"line":75,"column":6},"end":{"line":75,"column":35}},"25":{"start":{"line":77,"column":6},"end":{"line":77,"column":81}},"26":{"start":{"line":93,"column":8},"end":{"line":93,"column":16}},"27":{"start":{"line":97,"column":8},"end":{"line":97,"column":16}},"28":{"start":{"line":99,"column":4},"end":{"line":113,"column":5}},"29":{"start":{"line":100,"column":25},"end":{"line":100,"column":65}},"30":{"start":{"line":101,"column":26},"end":{"line":101,"column":56}},"31":{"start":{"line":102,"column":6},"end":{"line":102,"column":66}},"32":{"start":{"line":104,"column":28},"end":{"line":104,"column":66}},"33":{"start":{"line":105,"column":29},"end":{"line":105,"column":62}},"34":{"start":{"line":106,"column":6},"end":{"line":106,"column":72}},"35":{"start":{"line":107,"column":25},"end":{"line":107,"column":63}},"36":{"start":{"line":108,"column":6},"end":{"line":108,"column":115}},"37":{"start":{"line":110,"column":6},"end":{"line":110,"column":35}},"38":{"start":{"line":112,"column":6},"end":{"line":112,"column":81}},"39":{"start":{"line":128,"column":8},"end":{"line":128,"column":16}},"40":{"start":{"line":131,"column":8},"end":{"line":131,"column":16}},"41":{"start":{"line":133,"column":4},"end":{"line":143,"column":5}},"42":{"start":{"line":134,"column":25},"end":{"line":134,"column":63}},"43":{"start":{"line":135,"column":26},"end":{"line":135,"column":56}},"44":{"start":{"line":136,"column":6},"end":{"line":136,"column":66}},"45":{"start":{"line":137,"column":25},"end":{"line":137,"column":63}},"46":{"start":{"line":138,"column":6},"end":{"line":138,"column":119}},"47":{"start":{"line":140,"column":6},"end":{"line":140,"column":35}},"48":{"start":{"line":142,"column":6},"end":{"line":142,"column":81}},"49":{"start":{"line":148,"column":15},"end":{"line":148,"column":28}},"50":{"start":{"line":149,"column":0},"end":{"line":149,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":30,"column":2},"end":{"line":30,"column":3}},"loc":{"start":{"line":30,"column":40},"end":{"line":49,"column":3}},"line":30},"2":{"name":"(anonymous_2)","decl":{"start":{"line":60,"column":2},"end":{"line":60,"column":3}},"loc":{"start":{"line":60,"column":36},"end":{"line":79,"column":3}},"line":60},"3":{"name":"(anonymous_3)","decl":{"start":{"line":90,"column":2},"end":{"line":90,"column":3}},"loc":{"start":{"line":90,"column":38},"end":{"line":114,"column":3}},"line":90},"4":{"name":"(anonymous_4)","decl":{"start":{"line":125,"column":2},"end":{"line":125,"column":3}},"loc":{"start":{"line":125,"column":39},"end":{"line":144,"column":3}},"line":125}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":39,"column":6},"end":{"line":41,"column":7}},"type":"if","locations":[{"start":{"line":39,"column":6},"end":{"line":41,"column":7}},{"start":{"line":39,"column":6},"end":{"line":41,"column":7}}],"line":39}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":3,"8":3,"9":3,"10":3,"11":3,"12":0,"13":3,"14":0,"15":0,"16":4,"17":4,"18":4,"19":4,"20":4,"21":4,"22":4,"23":4,"24":0,"25":0,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":0,"38":0,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":0,"48":0,"49":1,"50":1},"f":{"0":4,"1":3,"2":4,"3":1,"4":1},"b":{"0":[4,0],"1":[4,4],"2":[0,3]},"inputSourceMap":{"version":3,"sources":["user.controller.js"],"names":["UserContoller","getUserAccount","req","res","id","user","console","log","getAccount","UserRepository","status","json","responses","error","success","logger","fundWallet","amount","body","findWallet","WalletRepository","findByUserId","addUpAmount","balance","update","transferFund","walletId","findById","getUserWallet","subtractAmount","withdrawfunds"],"mappings":"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","sourceRoot":"/Users/victor/work/lendsqr-test/src/controllers/","sourcesContent":["/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-console */\nimport logger from '../utilities/logger'\nimport responses from '../utilities/responses'\nimport UserRepository from '../repository/user'\nimport WalletRepository from '../repository/wallet'\n\nclass UserContoller {\n    /**\n     *@description Get all Users in the database\n     *@static\n     *@param  {Object} req - request\n     *@param  {object} res - response\n     *@returns {object} - status code, message and get all Users\n     *@memberof UserContoller\n     */\n    static async getUserAccount(req, res) {\n        const { id } = req.user\n        console.log(req.user)\n        try {\n            const getAccount = await UserRepository.getUserAccount(id)\n            if (getAccount === []) {\n                return res\n                    .status(404)\n                    .json(responses.error(404, 'Account not Found'))\n            }\n\n            return res\n                .status(200)\n                .json(\n                    responses.success(\n                        200,\n                        'Account successfully retrieved',\n                        getAccount[0]\n                    )\n                )\n        } catch (error) {\n            logger.error(error)\n            return res.status(500).json(responses.error(500, 'Server error'))\n        }\n    }\n\n    /**\n     *@description Get a user from database\n     *@static\n     *@param  {Object} req - request\n     *@param  {object} res - response\n     *@returns {object} - status code, message and fetched user\n     *@memberof UserContoller\n     */\n    static async fundWallet(req, res) {\n        const { id } = req.user\n        const { amount } = req.body\n        try {\n            const findWallet = await WalletRepository.findByUserId(id)\n            const addUpAmount = findWallet[0].balance + amount\n            await WalletRepository.update(findWallet[0].id, addUpAmount)\n            const getAccount = await UserRepository.getUserAccount(id)\n            return res\n                .status(200)\n                .json(\n                    responses.success(\n                        200,\n                        'Funds successfully Added',\n                        getAccount[0]\n                    )\n                )\n        } catch (error) {\n            logger.error(error)\n            return res.status(500).json(responses.error(500, 'Server error'))\n        }\n    }\n\n    /**\n     *@description Get a user by email\n     *@static\n     *@param  {Object} req - request\n     *@param  {object} res - response\n     *@returns {object} - status code, message and fetched user\n     *@memberof UserContoller\n     */\n    static async transferFund(req, res) {\n        const { id } = req.user\n        const { amount, walletId } = req.body\n\n        try {\n            const findWallet = await WalletRepository.findById(walletId)\n            const addUpAmount = findWallet[0].balance + amount\n            await WalletRepository.update(findWallet[0].id, addUpAmount)\n            // subtract amount from user wallet\n            const getUserWallet = await WalletRepository.findByUserId(id)\n            const subtractAmount = getUserWallet[0].balance - amount\n            await WalletRepository.update(getUserWallet[0].id, subtractAmount)\n            const getAccount = await UserRepository.getUserAccount(id)\n\n            return res\n                .status(200)\n                .json(\n                    responses.success(\n                        200,\n                        'Funds transfered successfully',\n                        getAccount[0]\n                    )\n                )\n        } catch (error) {\n            logger.error(error)\n            return res.status(500).json(responses.error(500, 'Server error'))\n        }\n    }\n\n    /**\n     *@description Get a User by OTP code\n     *@static\n     *@param  {Object} req - request\n     *@param  {object} res - response\n     *@returns {object} - status code, message and fetched user\n     *@memberof UserContoller\n     */\n    static async withdrawfunds(req, res) {\n        const { id } = req.user\n        const { amount } = req.body\n\n        try {\n            const findWallet = await WalletRepository.findByUserId(id)\n            const addUpAmount = findWallet[0].balance - amount\n            await WalletRepository.update(findWallet[0].id, addUpAmount)\n            const getAccount = await UserRepository.getUserAccount(id)\n\n            return res\n                .status(200)\n                .json(\n                    responses.success(\n                        200,\n                        'Withdrawal successfully completed',\n                        getAccount[0]\n                    )\n                )\n        } catch (error) {\n            logger.error(error)\n            return res.status(500).json(responses.error(500, 'Server error'))\n        }\n    }\n}\n\nexport default UserContoller\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"67596d230c753204426c2214e8d3736fcdc8027d","contentHash":"3ed5fa241b9aeb97929e8e40e71f2b7c57715cff9da9f36e5350c82f303ab26e"},"/Users/victor/work/lendsqr-test/src/utilities/logger.js":{"path":"/Users/victor/work/lendsqr-test/src/utilities/logger.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":19,"column":4},"end":{"line":19,"column":19}},"6":{"start":{"line":20,"column":16},"end":{"line":37,"column":1}},"7":{"start":{"line":38,"column":15},"end":{"line":44,"column":2}},"8":{"start":{"line":41,"column":30},"end":{"line":41,"column":83}},"9":{"start":{"line":45,"column":0},"end":{"line":50,"column":2}},"10":{"start":{"line":47,"column":4},"end":{"line":47,"column":25}},"11":{"start":{"line":51,"column":15},"end":{"line":51,"column":21}},"12":{"start":{"line":52,"column":0},"end":{"line":52,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":41,"column":22},"end":{"line":41,"column":23}},"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":83}},"line":41},"2":{"name":"(anonymous_2)","decl":{"start":{"line":46,"column":2},"end":{"line":46,"column":3}},"loc":{"start":{"line":46,"column":17},"end":{"line":48,"column":3}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":26,"9":1,"10":26,"11":1,"12":1},"f":{"0":1,"1":26,"2":26},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["logger.js"],"names":["combine","timestamp","printf","align","format","options","file","level","filename","appRoot","handleExceptions","json","maxsize","maxFiles","colorize","console","logger","info","message","transports","File","Console","exitOnError","stream","write"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAM;AAAEA,EAAAA,OAAF;AAAWC,EAAAA,SAAX;AAAsBC,EAAAA,MAAtB;AAA8BC,EAAAA;AAA9B,IAAwCC,eAA9C;AAEA,MAAMC,OAAO,GAAG;AACZC,EAAAA,IAAI,EAAE;AACFC,IAAAA,KAAK,EAAE,MADL;AAEFC,IAAAA,QAAQ,EAAG,GAAEC,oBAAQ,eAFnB;AAGFC,IAAAA,gBAAgB,EAAE,IAHhB;AAIFC,IAAAA,IAAI,EAAE,IAJJ;AAKFC,IAAAA,OAAO,EAAE,OALP;AAKgB;AAClBC,IAAAA,QAAQ,EAAE,CANR;AAOFC,IAAAA,QAAQ,EAAE;AAPR,GADM;AAUZC,EAAAA,OAAO,EAAE;AACLR,IAAAA,KAAK,EAAE,OADF;AAELG,IAAAA,gBAAgB,EAAE,IAFb;AAGLC,IAAAA,IAAI,EAAE,KAHD;AAILG,IAAAA,QAAQ,EAAE;AAJL;AAVG,CAAhB;AAkBA,MAAME,MAAM,GAAG,2BAAa;AACxBZ,EAAAA,MAAM,EAAEJ,OAAO,CACXC,SAAS,CAAC;AAAEG,IAAAA,MAAM,EAAE;AAAV,GAAD,CADE,EAEXD,KAAK,EAFM,EAGXD,MAAM,CAAEe,IAAD,IAAW,GAAEA,IAAI,CAACV,KAAM,KAAI,CAACU,IAAI,CAAChB,SAAN,CAAiB,KAAIgB,IAAI,CAACC,OAAQ,EAA/D,CAHK,CADS;AAMxBC,EAAAA,UAAU,EAAE,CACR,IAAIA,oBAAWC,IAAf,CAAoBf,OAAO,CAACC,IAA5B,CADQ,EAER,IAAIa,oBAAWE,OAAf,CAAuBhB,OAAO,CAACU,OAA/B,CAFQ,CANY;AAUxBO,EAAAA,WAAW,EAAE;AAVW,CAAb,CAAf;AAaAN,MAAM,CAACO,MAAP,GAAgB;AACZC,EAAAA,KAAK,CAACN,OAAD,EAAU;AACXF,IAAAA,MAAM,CAACC,IAAP,CAAYC,OAAZ;AACH;;AAHW,CAAhB;eAMeF,M","sourceRoot":"/Users/victor/work/lendsqr-test/src/utilities/","sourcesContent":["import { createLogger, format, transports } from 'winston'\nimport appRoot from 'app-root-path'\n\nconst { combine, timestamp, printf, align } = format\n\nconst options = {\n    file: {\n        level: 'info',\n        filename: `${appRoot}/logs/app.log`,\n        handleExceptions: true,\n        json: true,\n        maxsize: 5242880, // 5MB\n        maxFiles: 5,\n        colorize: false,\n    },\n    console: {\n        level: 'debug',\n        handleExceptions: true,\n        json: false,\n        colorize: true,\n    },\n}\n\nconst logger = createLogger({\n    format: combine(\n        timestamp({ format: 'MM-DD-YYYY HH:mm:ss' }),\n        align(),\n        printf((info) => `${info.level}: ${[info.timestamp]}: ${info.message}`)\n    ),\n    transports: [\n        new transports.File(options.file),\n        new transports.Console(options.console),\n    ],\n    exitOnError: false,\n})\n\nlogger.stream = {\n    write(message) {\n        logger.info(message)\n    },\n}\n\nexport default logger\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4782d4bab665927f6c1803bc810485032af91649","contentHash":"2f9ea2c64f9141a8cc1688e26391c2377f6882846ff0368659579bf3f178fb9d"},"/Users/victor/work/lendsqr-test/src/utilities/responses.js":{"path":"/Users/victor/work/lendsqr-test/src/utilities/responses.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":18},"end":{"line":30,"column":1}},"3":{"start":{"line":10,"column":27},"end":{"line":15,"column":5}},"4":{"start":{"line":17,"column":4},"end":{"line":17,"column":26}},"5":{"start":{"line":21,"column":25},"end":{"line":26,"column":5}},"6":{"start":{"line":28,"column":4},"end":{"line":28,"column":24}},"7":{"start":{"line":31,"column":15},"end":{"line":31,"column":24}},"8":{"start":{"line":32,"column":0},"end":{"line":32,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":11},"end":{"line":9,"column":12}},"loc":{"start":{"line":9,"column":42},"end":{"line":18,"column":3}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":10}},"loc":{"start":{"line":20,"column":34},"end":{"line":29,"column":3}},"line":20}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":20,"4":20,"5":0,"6":0,"7":1,"8":1},"f":{"0":20,"1":0},"b":{},"inputSourceMap":{"version":3,"sources":["responses.js"],"names":["responses","success","statusCode","message","data","successMessage","error","errorMessage"],"mappings":";;;;;;AAAA,MAAMA,SAAS,GAAG;AACd;AACAC,EAAAA,OAAO,EAAE,CAACC,UAAD,EAAaC,OAAb,EAAsBC,IAAtB,KAA+B;AACpC,UAAMC,cAAc,GAAG;AACnBC,MAAAA,KAAK,EAAE,KADY;AAEnBJ,MAAAA,UAFmB;AAGnBC,MAAAA,OAHmB;AAInBC,MAAAA;AAJmB,KAAvB,CADoC,CAOpC;;AACA,WAAOC,cAAP;AACH,GAXa;AAad;AACAC,EAAAA,KAAK,EAAE,CAACJ,UAAD,EAAaC,OAAb,KAAyB;AAC5B,UAAMI,YAAY,GAAG;AACjBD,MAAAA,KAAK,EAAE,IADU;AAEjBJ,MAAAA,UAFiB;AAGjBC,MAAAA,OAHiB;AAIjBC,MAAAA,IAAI,EAAE;AAJW,KAArB,CAD4B,CAO5B;;AACA,WAAOG,YAAP;AACH;AAvBa,CAAlB;eA0BeP,S","sourceRoot":"/Users/victor/work/lendsqr-test/src/utilities/","sourcesContent":["const responses = {\n    // success function\n    success: (statusCode, message, data) => {\n        const successMessage = {\n            error: false,\n            statusCode,\n            message,\n            data,\n        }\n        // function returns the success object\n        return successMessage\n    },\n\n    // error function\n    error: (statusCode, message) => {\n        const errorMessage = {\n            error: true,\n            statusCode,\n            message,\n            data: null,\n        }\n        // function returns the error object\n        return errorMessage\n    },\n}\n\nexport default responses\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e173555b8329493a7bb8707526eb35647fc03a59","contentHash":"d285b1d563c1d2903699c9e100f299551d43519677997937981f5cbf31791f45"},"/Users/victor/work/lendsqr-test/src/repository/user.js":{"path":"/Users/victor/work/lendsqr-test/src/repository/user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":15,"column":4},"end":{"line":20,"column":7}},"5":{"start":{"line":24,"column":4},"end":{"line":24,"column":56}},"6":{"start":{"line":28,"column":4},"end":{"line":28,"column":62}},"7":{"start":{"line":32,"column":4},"end":{"line":34,"column":7}},"8":{"start":{"line":39,"column":15},"end":{"line":39,"column":29}},"9":{"start":{"line":40,"column":0},"end":{"line":40,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":2},"end":{"line":14,"column":3}},"loc":{"start":{"line":14,"column":47},"end":{"line":21,"column":3}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":2},"end":{"line":23,"column":3}},"loc":{"start":{"line":23,"column":22},"end":{"line":25,"column":3}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":2},"end":{"line":27,"column":3}},"loc":{"start":{"line":27,"column":28},"end":{"line":29,"column":3}},"line":27},"4":{"name":"(anonymous_4)","decl":{"start":{"line":31,"column":2},"end":{"line":31,"column":3}},"loc":{"start":{"line":31,"column":28},"end":{"line":35,"column":3}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":13,"6":11,"7":10,"8":1,"9":1},"f":{"0":1,"1":1,"2":13,"3":11,"4":10},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["UserRepository","create","fullName","email","password","id","insert","findById","where","findByEmail","getUserAccount","join","select","owner"],"mappings":";;;;;;;AACA;;;;AADA;AAGA,MAAMA,cAAN,CAAqB;AACJ,SAANC,MAAM,CAACC,QAAD,EAAWC,KAAX,EAAkBC,QAAlB,EAA4BC,EAA5B,EAAgC;AACzC,WAAO,oBAAO,OAAP,EAAgBC,MAAhB,CAAuB;AAAEJ,MAAAA,QAAF;AAAYC,MAAAA,KAAZ;AAAmBC,MAAAA,QAAnB;AAA6BC,MAAAA;AAA7B,KAAvB,CAAP;AACH;;AAEc,SAARE,QAAQ,CAACF,EAAD,EAAK;AAChB,WAAO,oBAAO,OAAP,EAAgBG,KAAhB,CAAsB,IAAtB,EAA4BH,EAA5B,CAAP;AACH;;AAEiB,SAAXI,WAAW,CAACN,KAAD,EAAQ;AACtB,WAAO,oBAAO,OAAP,EAAgBK,KAAhB,CAAsB,OAAtB,EAA+BL,KAA/B,CAAP;AACH;;AAEoB,SAAdO,cAAc,CAACL,EAAD,EAAK;AACtB,WAAO,oBAAO,SAAP,EACFM,IADE,CACG,OADH,EACY,UADZ,EACwB,GADxB,EAC6B,eAD7B,EAEFC,MAFE,CAGC,UAHD,EAIC,gBAJD,EAKC,aALD,EAMC,wBAND,EAOC,iBAPD,EASFJ,KATE,CASI;AAAEK,MAAAA,KAAK,EAAER;AAAT,KATJ,CAAP;AAUH;;AAxBgB;;eA2BNL,c","sourceRoot":"/Users/victor/work/lendsqr-test/src/repository/","sourcesContent":["/* eslint-disable func-names */\nimport client from './index'\n\nclass UserRepository {\n    static create(fullName, email, password, id) {\n        return client('users').insert({ fullName, email, password, id })\n    }\n\n    static findById(id) {\n        return client('users').where('id', id)\n    }\n\n    static findByEmail(email) {\n        return client('users').where('email', email)\n    }\n\n    static getUserAccount(id) {\n        return client('wallets')\n            .join('users', 'users.id', '=', 'wallets.owner')\n            .select(\n                'users.id',\n                'users.fullName',\n                'users.email',\n                'wallets.id AS walletId',\n                'wallets.balance'\n            )\n            .where({ owner: id })\n    }\n}\n\nexport default UserRepository\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6513dcf7681c5039f142fad5e0834c7a530f6c0b","contentHash":"115c3702a666843933f2d5f28a97cccd6185bfe1f98b0ab7f716616d2f2f7788"},"/Users/victor/work/lendsqr-test/src/repository/index.js":{"path":"/Users/victor/work/lendsqr-test/src/repository/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":51}},"3":{"start":{"line":10,"column":17},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":49},"end":{"line":12,"column":96}},"5":{"start":{"line":12,"column":84},"end":{"line":12,"column":96}},"6":{"start":{"line":12,"column":121},"end":{"line":12,"column":134}},"7":{"start":{"line":12,"column":159},"end":{"line":12,"column":172}},"8":{"start":{"line":12,"column":174},"end":{"line":12,"column":309}},"9":{"start":{"line":12,"column":234},"end":{"line":12,"column":292}},"10":{"start":{"line":14,"column":53},"end":{"line":14,"column":111}},"11":{"start":{"line":14,"column":98},"end":{"line":14,"column":109}},"12":{"start":{"line":14,"column":112},"end":{"line":14,"column":214}},"13":{"start":{"line":14,"column":188},"end":{"line":14,"column":212}},"14":{"start":{"line":14,"column":227},"end":{"line":14,"column":264}},"15":{"start":{"line":14,"column":266},"end":{"line":14,"column":321}},"16":{"start":{"line":14,"column":297},"end":{"line":14,"column":319}},"17":{"start":{"line":14,"column":335},"end":{"line":14,"column":337}},"18":{"start":{"line":14,"column":367},"end":{"line":14,"column":423}},"19":{"start":{"line":14,"column":425},"end":{"line":14,"column":726}},"20":{"start":{"line":14,"column":448},"end":{"line":14,"column":724}},"21":{"start":{"line":14,"column":534},"end":{"line":14,"column":606}},"22":{"start":{"line":14,"column":608},"end":{"line":14,"column":722}},"23":{"start":{"line":14,"column":646},"end":{"line":14,"column":687}},"24":{"start":{"line":14,"column":697},"end":{"line":14,"column":720}},"25":{"start":{"line":14,"column":727},"end":{"line":14,"column":748}},"26":{"start":{"line":14,"column":749},"end":{"line":14,"column":787}},"27":{"start":{"line":14,"column":762},"end":{"line":14,"column":785}},"28":{"start":{"line":14,"column":788},"end":{"line":14,"column":802}},"29":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"30":{"start":{"line":18,"column":15},"end":{"line":18,"column":67}},"31":{"start":{"line":19,"column":15},"end":{"line":19,"column":21}},"32":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}}},"fnMap":{"0":{"name":"_getRequireWildcardCache","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":33}},"loc":{"start":{"line":12,"column":47},"end":{"line":12,"column":311}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":209},"end":{"line":12,"column":210}},"loc":{"start":{"line":12,"column":232},"end":{"line":12,"column":294}},"line":12},"2":{"name":"_interopRequireWildcard","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":32}},"loc":{"start":{"line":14,"column":51},"end":{"line":14,"column":804}},"line":14},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":49},"end":{"line":12,"column":96}},"type":"if","locations":[{"start":{"line":12,"column":49},"end":{"line":12,"column":96}},{"start":{"line":12,"column":49},"end":{"line":12,"column":96}}],"line":12},"1":{"loc":{"start":{"line":12,"column":241},"end":{"line":12,"column":291}},"type":"cond-expr","locations":[{"start":{"line":12,"column":255},"end":{"line":12,"column":271}},{"start":{"line":12,"column":274},"end":{"line":12,"column":291}}],"line":12},"2":{"loc":{"start":{"line":14,"column":53},"end":{"line":14,"column":111}},"type":"if","locations":[{"start":{"line":14,"column":53},"end":{"line":14,"column":111}},{"start":{"line":14,"column":53},"end":{"line":14,"column":111}}],"line":14},"3":{"loc":{"start":{"line":14,"column":57},"end":{"line":14,"column":94}},"type":"binary-expr","locations":[{"start":{"line":14,"column":57},"end":{"line":14,"column":69}},{"start":{"line":14,"column":73},"end":{"line":14,"column":76}},{"start":{"line":14,"column":80},"end":{"line":14,"column":94}}],"line":14},"4":{"loc":{"start":{"line":14,"column":112},"end":{"line":14,"column":214}},"type":"if","locations":[{"start":{"line":14,"column":112},"end":{"line":14,"column":214}},{"start":{"line":14,"column":112},"end":{"line":14,"column":214}}],"line":14},"5":{"loc":{"start":{"line":14,"column":116},"end":{"line":14,"column":184}},"type":"binary-expr","locations":[{"start":{"line":14,"column":116},"end":{"line":14,"column":128}},{"start":{"line":14,"column":132},"end":{"line":14,"column":155}},{"start":{"line":14,"column":159},"end":{"line":14,"column":184}}],"line":14},"6":{"loc":{"start":{"line":14,"column":266},"end":{"line":14,"column":321}},"type":"if","locations":[{"start":{"line":14,"column":266},"end":{"line":14,"column":321}},{"start":{"line":14,"column":266},"end":{"line":14,"column":321}}],"line":14},"7":{"loc":{"start":{"line":14,"column":270},"end":{"line":14,"column":293}},"type":"binary-expr","locations":[{"start":{"line":14,"column":270},"end":{"line":14,"column":275}},{"start":{"line":14,"column":279},"end":{"line":14,"column":293}}],"line":14},"8":{"loc":{"start":{"line":14,"column":367},"end":{"line":14,"column":423}},"type":"binary-expr","locations":[{"start":{"line":14,"column":367},"end":{"line":14,"column":388}},{"start":{"line":14,"column":392},"end":{"line":14,"column":423}}],"line":14},"9":{"loc":{"start":{"line":14,"column":448},"end":{"line":14,"column":724}},"type":"if","locations":[{"start":{"line":14,"column":448},"end":{"line":14,"column":724}},{"start":{"line":14,"column":448},"end":{"line":14,"column":724}}],"line":14},"10":{"loc":{"start":{"line":14,"column":452},"end":{"line":14,"column":519}},"type":"binary-expr","locations":[{"start":{"line":14,"column":452},"end":{"line":14,"column":469}},{"start":{"line":14,"column":473},"end":{"line":14,"column":519}}],"line":14},"11":{"loc":{"start":{"line":14,"column":534},"end":{"line":14,"column":606}},"type":"cond-expr","locations":[{"start":{"line":14,"column":558},"end":{"line":14,"column":599}},{"start":{"line":14,"column":602},"end":{"line":14,"column":606}}],"line":14},"12":{"loc":{"start":{"line":14,"column":608},"end":{"line":14,"column":722}},"type":"if","locations":[{"start":{"line":14,"column":608},"end":{"line":14,"column":722}},{"start":{"line":14,"column":608},"end":{"line":14,"column":722}}],"line":14},"13":{"loc":{"start":{"line":14,"column":612},"end":{"line":14,"column":642}},"type":"binary-expr","locations":[{"start":{"line":14,"column":612},"end":{"line":14,"column":616}},{"start":{"line":14,"column":621},"end":{"line":14,"column":629}},{"start":{"line":14,"column":633},"end":{"line":14,"column":641}}],"line":14},"14":{"loc":{"start":{"line":14,"column":749},"end":{"line":14,"column":787}},"type":"if","locations":[{"start":{"line":14,"column":749},"end":{"line":14,"column":787}},{"start":{"line":14,"column":749},"end":{"line":14,"column":787}}],"line":14},"15":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"16":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":3,"21":3,"22":3,"23":0,"24":3,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1},"f":{"0":1,"1":1,"2":1,"3":1},"b":{"0":[0,1],"1":[0,1],"2":[0,1],"3":[1,1,1],"4":[0,1],"5":[1,1,0],"6":[0,1],"7":[1,1],"8":[1,1],"9":[3,0],"10":[3,3],"11":[3,0],"12":[0,3],"13":[3,3,3],"14":[1,0],"15":[0,1],"16":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["client","knexConfig","process","env","NODE_ENV"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA,MAAMA,MAAM,GAAG,mBAAKC,UAAU,CAACC,OAAO,CAACC,GAAR,CAAYC,QAAb,CAAf,CAAf;eAEeJ,M","sourceRoot":"/Users/victor/work/lendsqr-test/src/repository/","sourcesContent":["import knex from 'knex'\nimport * as knexConfig from '../../knexfile'\n\nconst client = knex(knexConfig[process.env.NODE_ENV])\n\nexport default client\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b06645d657ba5ca8879d16d1744383a633362f97","contentHash":"fdefee385ca3923be16ef5a1f8e5502490e4bc2b2349a162ca2ff7523507f1e3"},"/Users/victor/work/lendsqr-test/knexfile.js":{"path":"/Users/victor/work/lendsqr-test/knexfile.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"1":{"start":{"line":8,"column":4},"end":{"line":8,"column":30}},"2":{"start":{"line":14,"column":0},"end":{"line":62,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["knexfile.js"],"names":["require","config","development","test","module","exports","client","dbClient","connection","database","user","dbUser","password","dbPassword","host","dbHost","port","dbPort","migrations","directory","__dirname","seeds","production","pool","min","max","tableName"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,MAAM;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,IAAwBH,OAAO,CAAC,iBAAD,CAArC;AACA;AACA;AACA;;;AACAI,MAAM,CAACC,OAAP,GAAiB;AACbH,EAAAA,WAAW,EAAE;AACTI,IAAAA,MAAM,EAAEJ,WAAW,CAACK,QADX;AAETC,IAAAA,UAAU,EAAE;AACRC,MAAAA,QAAQ,EAAEP,WAAW,CAACO,QADd;AAERC,MAAAA,IAAI,EAAER,WAAW,CAACS,MAFV;AAGRC,MAAAA,QAAQ,EAAEV,WAAW,CAACW,UAHd;AAIRC,MAAAA,IAAI,EAAEZ,WAAW,CAACa,MAJV;AAKRC,MAAAA,IAAI,EAAEd,WAAW,CAACe;AALV,KAFH;AASTC,IAAAA,UAAU,EAAE;AACRC,MAAAA,SAAS,EAAG,GAAEC,SAAU;AADhB,KATH;AAYTC,IAAAA,KAAK,EAAE;AACHF,MAAAA,SAAS,EAAG,GAAEC,SAAU;AADrB;AAZE,GADA;AAkBbjB,EAAAA,IAAI,EAAE;AACFG,IAAAA,MAAM,EAAEH,IAAI,CAACI,QADX;AAEFC,IAAAA,UAAU,EAAE;AACRC,MAAAA,QAAQ,EAAEN,IAAI,CAACM,QADP;AAERC,MAAAA,IAAI,EAAEP,IAAI,CAACQ,MAFH;AAGRC,MAAAA,QAAQ,EAAET,IAAI,CAACU,UAHP;AAIRC,MAAAA,IAAI,EAAEX,IAAI,CAACY,MAJH;AAKRC,MAAAA,IAAI,EAAEb,IAAI,CAACc;AALH,KAFV;AASFC,IAAAA,UAAU,EAAE;AACRC,MAAAA,SAAS,EAAG,GAAEC,SAAU;AADhB,KATV;AAYFC,IAAAA,KAAK,EAAE;AACHF,MAAAA,SAAS,EAAG,GAAEC,SAAU;AADrB;AAZL,GAlBO;AAmCbE,EAAAA,UAAU,EAAE;AACRhB,IAAAA,MAAM,EAAE,YADA;AAERE,IAAAA,UAAU,EAAE;AACRC,MAAAA,QAAQ,EAAE,OADF;AAERC,MAAAA,IAAI,EAAE,UAFE;AAGRE,MAAAA,QAAQ,EAAE;AAHF,KAFJ;AAORW,IAAAA,IAAI,EAAE;AACFC,MAAAA,GAAG,EAAE,CADH;AAEFC,MAAAA,GAAG,EAAE;AAFH,KAPE;AAWRP,IAAAA,UAAU,EAAE;AACRQ,MAAAA,SAAS,EAAE;AADH;AAXJ;AAnCC,CAAjB","sourceRoot":"/Users/victor/work/lendsqr-test/","sourcesContent":["require('dotenv').config()\nconst { development, test } = require('./config/config')\n/**\n * @type { Object.<string, import(\"knex\").Knex.Config> }\n */\nmodule.exports = {\n    development: {\n        client: development.dbClient,\n        connection: {\n            database: development.database,\n            user: development.dbUser,\n            password: development.dbPassword,\n            host: development.dbHost,\n            port: development.dbPort,\n        },\n        migrations: {\n            directory: `${__dirname}/migrations`,\n        },\n        seeds: {\n            directory: `${__dirname}/seeds`,\n        },\n    },\n\n    test: {\n        client: test.dbClient,\n        connection: {\n            database: test.database,\n            user: test.dbUser,\n            password: test.dbPassword,\n            host: test.dbHost,\n            port: test.dbPort,\n        },\n        migrations: {\n            directory: `${__dirname}/migrations`,\n        },\n        seeds: {\n            directory: `${__dirname}/seeds`,\n        },\n    },\n\n    production: {\n        client: 'postgresql',\n        connection: {\n            database: 'my_db',\n            user: 'username',\n            password: 'password',\n        },\n        pool: {\n            min: 2,\n            max: 10,\n        },\n        migrations: {\n            tableName: 'knex_migrations',\n        },\n    },\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ea0fac46870f04eb6fea897312820c44c32f73d0","contentHash":"42e730657d2a528323056669f68a8ab28e4d8202913cf8fb12416d84f53469ae"},"/Users/victor/work/lendsqr-test/config/config.js":{"path":"/Users/victor/work/lendsqr-test/config/config.js","statementMap":{"0":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"1":{"start":{"line":6,"column":0},"end":{"line":26,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["config.js"],"names":["require","config","module","exports","development","jwtSecret","process","env","JWT_TOKEN_SECRET","database","DATABASE","dbPort","DB_PORT","dbUser","DB_USER","dbPassword","DB_PASSWORD","dbHost","DB_HOST","dbClient","DB_CLIENT","port","PORT","test","TEST_DATABASE","TEST_DB_PORT","TEST_DB_USER","TEST_DB_PASSWORD","TEST_DB_HOST","TEST_DB_CLIENT","TEST_PORT"],"mappings":";;AAAA;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,WAAW,EAAE;AACTC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADd;AAETC,IAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,QAFb;AAGTC,IAAAA,MAAM,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHX;AAITC,IAAAA,MAAM,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAJX;AAKTC,IAAAA,UAAU,EAAET,OAAO,CAACC,GAAR,CAAYS,WALf;AAMTC,IAAAA,MAAM,EAAEX,OAAO,CAACC,GAAR,CAAYW,OANX;AAOTC,IAAAA,QAAQ,EAAEb,OAAO,CAACC,GAAR,CAAYa,SAPb;AAQTC,IAAAA,IAAI,EAAEf,OAAO,CAACC,GAAR,CAAYe;AART,GADA;AAWbC,EAAAA,IAAI,EAAE;AACFd,IAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYiB,aADpB;AAEFb,IAAAA,MAAM,EAAEL,OAAO,CAACC,GAAR,CAAYkB,YAFlB;AAGFZ,IAAAA,MAAM,EAAEP,OAAO,CAACC,GAAR,CAAYmB,YAHlB;AAIFX,IAAAA,UAAU,EAAET,OAAO,CAACC,GAAR,CAAYoB,gBAJtB;AAKFV,IAAAA,MAAM,EAAEX,OAAO,CAACC,GAAR,CAAYqB,YALlB;AAMFT,IAAAA,QAAQ,EAAEb,OAAO,CAACC,GAAR,CAAYsB,cANpB;AAOFR,IAAAA,IAAI,EAAEf,OAAO,CAACC,GAAR,CAAYuB;AAPhB;AAXO,CAAjB","sourceRoot":"/Users/victor/work/lendsqr-test/config/","sourcesContent":["/* eslint-disable no-unused-vars */\nrequire('dotenv').config()\n\nmodule.exports = {\n    development: {\n        jwtSecret: process.env.JWT_TOKEN_SECRET,\n        database: process.env.DATABASE,\n        dbPort: process.env.DB_PORT,\n        dbUser: process.env.DB_USER,\n        dbPassword: process.env.DB_PASSWORD,\n        dbHost: process.env.DB_HOST,\n        dbClient: process.env.DB_CLIENT,\n        port: process.env.PORT,\n    },\n    test: {\n        database: process.env.TEST_DATABASE,\n        dbPort: process.env.TEST_DB_PORT,\n        dbUser: process.env.TEST_DB_USER,\n        dbPassword: process.env.TEST_DB_PASSWORD,\n        dbHost: process.env.TEST_DB_HOST,\n        dbClient: process.env.TEST_DB_CLIENT,\n        port: process.env.TEST_PORT,\n    },\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b3635b9b70be9dcc483a2a3683943ce9452c2be1","contentHash":"63935d8005335be0f6bcfeac6f0edccbbbb2eb265703a9059db9b9db88332255"},"/Users/victor/work/lendsqr-test/src/repository/wallet.js":{"path":"/Users/victor/work/lendsqr-test/src/repository/wallet.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":15,"column":4},"end":{"line":18,"column":7}},"5":{"start":{"line":22,"column":4},"end":{"line":22,"column":58}},"6":{"start":{"line":26,"column":4},"end":{"line":26,"column":61}},"7":{"start":{"line":30,"column":4},"end":{"line":32,"column":7}},"8":{"start":{"line":37,"column":15},"end":{"line":37,"column":31}},"9":{"start":{"line":38,"column":0},"end":{"line":38,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":2},"end":{"line":14,"column":3}},"loc":{"start":{"line":14,"column":28},"end":{"line":19,"column":3}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":2},"end":{"line":21,"column":3}},"loc":{"start":{"line":21,"column":22},"end":{"line":23,"column":3}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":2},"end":{"line":25,"column":3}},"loc":{"start":{"line":25,"column":26},"end":{"line":27,"column":3}},"line":25},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":2},"end":{"line":29,"column":3}},"loc":{"start":{"line":29,"column":29},"end":{"line":33,"column":3}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":6,"7":7,"8":1,"9":1},"f":{"0":1,"1":1,"2":1,"3":6,"4":7},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["wallet.js"],"names":["WalletRepository","create","id","userId","insert","owner","findById","where","findByUserId","update","balance"],"mappings":";;;;;;;AACA;;;;AADA;AAGA,MAAMA,gBAAN,CAAuB;AACN,SAANC,MAAM,CAACC,EAAD,EAAKC,MAAL,EAAa;AACtB,WAAO,oBAAO,SAAP,EAAkBC,MAAlB,CAAyB;AAAEF,MAAAA,EAAF;AAAMG,MAAAA,KAAK,EAAEF;AAAb,KAAzB,CAAP;AACH;;AAEc,SAARG,QAAQ,CAACJ,EAAD,EAAK;AAChB,WAAO,oBAAO,SAAP,EAAkBK,KAAlB,CAAwB,IAAxB,EAA8BL,EAA9B,CAAP;AACH;;AAEkB,SAAZM,YAAY,CAACN,EAAD,EAAK;AACpB,WAAO,oBAAO,SAAP,EAAkBK,KAAlB,CAAwB,OAAxB,EAAiCL,EAAjC,CAAP;AACH;;AAEY,SAANO,MAAM,CAACP,EAAD,EAAKQ,OAAL,EAAc;AACvB,WAAO,oBAAO,SAAP,EAAkBH,KAAlB,CAAwB,IAAxB,EAA8BL,EAA9B,EAAkCO,MAAlC,CAAyC;AAAEC,MAAAA;AAAF,KAAzC,CAAP;AACH;;AAfkB;;eAkBRV,gB","sourceRoot":"/Users/victor/work/lendsqr-test/src/repository/","sourcesContent":["/* eslint-disable func-names */\nimport client from './index'\n\nclass WalletRepository {\n    static create(id, userId) {\n        return client('wallets').insert({ id, owner: userId })\n    }\n\n    static findById(id) {\n        return client('wallets').where('id', id)\n    }\n\n    static findByUserId(id) {\n        return client('wallets').where('owner', id)\n    }\n\n    static update(id, balance) {\n        return client('wallets').where('id', id).update({ balance })\n    }\n}\n\nexport default WalletRepository\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6e464110921579b479cd6f3b3e5a250ebfd4425e","contentHash":"5c5d5d2a32e9a73e4ca96223e0d97de43c108331e382f40dcf3f2b5ff1397104"},"/Users/victor/work/lendsqr-test/src/middlewares/auth.js":{"path":"/Users/victor/work/lendsqr-test/src/middlewares/auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":18},"end":{"line":15,"column":2}},"5":{"start":{"line":13,"column":24},"end":{"line":15,"column":2}},"6":{"start":{"line":17,"column":15},"end":{"line":17,"column":24}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":18},"end":{"line":13,"column":19}},"loc":{"start":{"line":13,"column":24},"end":{"line":15,"column":2}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":4,"6":1,"7":1},"f":{"0":1,"1":4},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["authGuard","passport","authenticate","session"],"mappings":";;;;;;;AACA;;;;AADA;AAGA,MAAMA,SAAS,GAAG,MAAMC,kBAASC,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAA7B,CAAxB;;eAEeH,S","sourceRoot":"/Users/victor/work/lendsqr-test/src/middlewares/","sourcesContent":["/* eslint-disable consistent-return */\nimport passport from 'passport'\n\nconst authGuard = () => passport.authenticate('jwt', { session: false })\n\nexport default authGuard\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"81e113ca366689ba9ea1f0a196c10b2fd9b7a846","contentHash":"7ff0a8ca746f590bde4ca00af13ccc018628d0d92fec27352ab40b3520caa053"},"/Users/victor/work/lendsqr-test/src/validators/user.schema.js":{"path":"/Users/victor/work/lendsqr-test/src/validators/user.schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":114}},"2":{"start":{"line":8,"column":24},"end":{"line":8,"column":52}},"3":{"start":{"line":10,"column":23},"end":{"line":16,"column":1}},"4":{"start":{"line":11,"column":2},"end":{"line":15,"column":51}},"5":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"6":{"start":{"line":20,"column":24},"end":{"line":24,"column":1}},"7":{"start":{"line":21,"column":2},"end":{"line":23,"column":51}},"8":{"start":{"line":26,"column":0},"end":{"line":26,"column":42}},"9":{"start":{"line":28,"column":29},"end":{"line":32,"column":1}},"10":{"start":{"line":29,"column":2},"end":{"line":31,"column":133}},"11":{"start":{"line":34,"column":0},"end":{"line":34,"column":52}},"12":{"start":{"line":36,"column":23},"end":{"line":40,"column":1}},"13":{"start":{"line":37,"column":2},"end":{"line":39,"column":51}},"14":{"start":{"line":42,"column":0},"end":{"line":42,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":23},"end":{"line":10,"column":24}},"loc":{"start":{"line":10,"column":29},"end":{"line":16,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":24},"end":{"line":20,"column":25}},"loc":{"start":{"line":20,"column":30},"end":{"line":24,"column":1}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":29},"end":{"line":28,"column":30}},"loc":{"start":{"line":28,"column":35},"end":{"line":32,"column":1}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":23},"end":{"line":36,"column":24}},"loc":{"start":{"line":36,"column":29},"end":{"line":40,"column":1}},"line":36}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":1,"1":2,"2":1,"3":1},"b":{},"inputSourceMap":{"version":3,"sources":["user.schema.js"],"names":["userBodySchema","not","isEmpty","isLength","max","withMessage","isEmail","normalizeEmail","min","fundsBodySchema","isInt","gt","tranxFundsBodySchema","authBodySchema"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,cAAc,GAAG,MAAM;AACzB,SAAO,CACH,6BAAM,UAAN,EAAkB,uBAAlB,EACKC,GADL,GAEKC,OAFL,GAGKC,QAHL,CAGc;AAAEC,IAAAA,GAAG,EAAE;AAAP,GAHd,EAIKC,WAJL,CAIiB,kCAJjB,CADG,EAMH,6BAAM,OAAN,EACKC,OADL,GAEKC,cAFL,GAGKF,WAHL,CAGiB,kBAHjB,CANG,EAUH,6BAAM,UAAN,EACKF,QADL,CACc;AAAEK,IAAAA,GAAG,EAAE;AAAP,GADd,EAEKH,WAFL,CAEiB,+BAFjB,CAVG,CAAP;AAcH,CAfD;;;;AAiBA,MAAMI,eAAe,GAAG,MAAM;AAC1B,SAAO,CACH,6BAAM,QAAN,EAAgB,oBAAhB,EACKR,GADL,GAEKC,OAFL,GAGKQ,KAHL,CAGW;AAAEC,IAAAA,EAAE,EAAE;AAAN,GAHX,EAIKN,WAJL,CAIiB,+BAJjB,CADG,CAAP;AAOH,CARD;;;;AAUA,MAAMO,oBAAoB,GAAG,MAAM;AAC/B,SAAO,CACH,6BAAM,QAAN,EAAgB,oBAAhB,EACKX,GADL,GAEKC,OAFL,GAGKQ,KAHL,CAGW;AAAEC,IAAAA,EAAE,EAAE;AAAN,GAHX,EAIKN,WAJL,CAIiB,+BAJjB,CADG,EAMH,6BAAM,UAAN,EAAkB,sBAAlB,EAA0CJ,GAA1C,GAAgDC,OAAhD,EANG,CAAP;AAQH,CATD;;;;AAWA,MAAMW,cAAc,GAAG,MAAM;AACzB,SAAO,CACH,6BAAM,OAAN,EAAe,mBAAf,EACKZ,GADL,GAEKC,OAFL,GAGKI,OAHL,GAIKC,cAJL,GAKKF,WALL,CAKiB,kBALjB,CADG,EAOH,6BAAM,UAAN,EAAkB,sBAAlB,EACKJ,GADL,GAEKC,OAFL,GAGKC,QAHL,CAGc;AAAEK,IAAAA,GAAG,EAAE;AAAP,GAHd,EAIKH,WAJL,CAIiB,+BAJjB,CAPG,CAAP;AAaH,CAdD","sourceRoot":"/Users/victor/work/lendsqr-test/src/validators/","sourcesContent":["import { check } from 'express-validator'\n\nconst userBodySchema = () => {\n    return [\n        check('fullName', 'Full Name is required')\n            .not()\n            .isEmpty()\n            .isLength({ max: 50 })\n            .withMessage('maximum length should be 50 char'),\n        check('email')\n            .isEmail()\n            .normalizeEmail()\n            .withMessage('must be an email'),\n        check('password')\n            .isLength({ min: 8 })\n            .withMessage('must be at least 8 chars long'),\n    ]\n}\n\nconst fundsBodySchema = () => {\n    return [\n        check('amount', 'Amount is required')\n            .not()\n            .isEmpty()\n            .isInt({ gt: 0 })\n            .withMessage('amount must be greater than 0'),\n    ]\n}\n\nconst tranxFundsBodySchema = () => {\n    return [\n        check('amount', 'Amount is required')\n            .not()\n            .isEmpty()\n            .isInt({ gt: 0 })\n            .withMessage('amount must be greater than 0'),\n        check('walletId', 'walletId is required').not().isEmpty(),\n    ]\n}\n\nconst authBodySchema = () => {\n    return [\n        check('email', 'Email is required')\n            .not()\n            .isEmpty()\n            .isEmail()\n            .normalizeEmail()\n            .withMessage('must be an email'),\n        check('password', 'Password is required')\n            .not()\n            .isEmpty()\n            .isLength({ min: 8 })\n            .withMessage('must be at least 8 chars long'),\n    ]\n}\n\nexport { userBodySchema, fundsBodySchema, tranxFundsBodySchema, authBodySchema }\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a7014f2de37c183e1caaa841bbc06a6b874f8135","contentHash":"e72c3d63403ea5e62be0b81a787ebd1c40635ea77bec593bda63f81920c3309d"},"/Users/victor/work/lendsqr-test/src/routes/register.js":{"path":"/Users/victor/work/lendsqr-test/src/routes/register.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":21},"end":{"line":10,"column":60}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":48}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":84}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":37}},"8":{"start":{"line":21,"column":4},"end":{"line":21,"column":21}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":94}},"10":{"start":{"line":23,"column":15},"end":{"line":23,"column":21}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["register.js"],"names":["router","newAccount","RegisterController","post","validate"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAiBC,iBAAvB;AAEAF,MAAM,CAACG,IAAP,CAAY,cAAZ,EAA4B,2BAA5B,EAA8CC,uBAA9C,EAAwDH,UAAxD;eAEeD,M","sourceRoot":"/Users/victor/work/lendsqr-test/src/routes/","sourcesContent":["import { Router } from 'express'\nimport { validate } from '../middlewares/errorhandlers'\nimport { userBodySchema } from '../validators/user.schema'\nimport RegisterController from '../controllers/register.contoller'\n\nconst router = Router()\n\nconst { newAccount } = RegisterController\n\nrouter.post('/new/account', userBodySchema(), validate, newAccount)\n\nexport default router\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e1fa0f579bc63dba71bda4419cd623c32ad9f977","contentHash":"31580dd9d5177d60fb0792b685747420e6dd5a557ea612894dffca722de3ed0c"},"/Users/victor/work/lendsqr-test/src/controllers/register.contoller.js":{"path":"/Users/victor/work/lendsqr-test/src/controllers/register.contoller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":30}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":68}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":74}},"6":{"start":{"line":16,"column":12},"end":{"line":16,"column":65}},"7":{"start":{"line":18,"column":14},"end":{"line":18,"column":69}},"8":{"start":{"line":20,"column":39},"end":{"line":20,"column":93}},"9":{"start":{"line":44,"column":8},"end":{"line":44,"column":16}},"10":{"start":{"line":45,"column":22},"end":{"line":45,"column":24}},"11":{"start":{"line":47,"column":4},"end":{"line":66,"column":5}},"12":{"start":{"line":48,"column":17},"end":{"line":48,"column":35}},"13":{"start":{"line":49,"column":23},"end":{"line":49,"column":61}},"14":{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},"15":{"start":{"line":52,"column":8},"end":{"line":52,"column":97}},"16":{"start":{"line":55,"column":22},"end":{"line":55,"column":62}},"17":{"start":{"line":56,"column":26},"end":{"line":56,"column":71}},"18":{"start":{"line":57,"column":6},"end":{"line":57,"column":67}},"19":{"start":{"line":58,"column":23},"end":{"line":58,"column":41}},"20":{"start":{"line":59,"column":6},"end":{"line":59,"column":49}},"21":{"start":{"line":60,"column":25},"end":{"line":60,"column":63}},"22":{"start":{"line":61,"column":6},"end":{"line":61,"column":114}},"23":{"start":{"line":63,"column":6},"end":{"line":63,"column":35}},"24":{"start":{"line":65,"column":6},"end":{"line":65,"column":81}},"25":{"start":{"line":71,"column":15},"end":{"line":71,"column":33}},"26":{"start":{"line":72,"column":0},"end":{"line":72,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":31}},"loc":{"start":{"line":20,"column":37},"end":{"line":20,"column":95}},"line":20},"1":{"name":"(anonymous_1)","decl":{"start":{"line":39,"column":2},"end":{"line":39,"column":3}},"loc":{"start":{"line":39,"column":36},"end":{"line":67,"column":3}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":92}},"type":"cond-expr","locations":[{"start":{"line":20,"column":70},"end":{"line":20,"column":73}},{"start":{"line":20,"column":76},"end":{"line":20,"column":92}}],"line":20},"1":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":46},"end":{"line":20,"column":49}},{"start":{"line":20,"column":53},"end":{"line":20,"column":67}}],"line":20},"2":{"loc":{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},"type":"if","locations":[{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},{"start":{"line":51,"column":6},"end":{"line":53,"column":7}}],"line":51}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":5,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":0,"25":1,"26":1},"f":{"0":5,"1":1},"b":{"0":[4,1],"1":[5,5],"2":[0,1]},"inputSourceMap":{"version":3,"sources":["register.contoller.js"],"names":["RegisterController","newAccount","req","res","email","password","fullName","body","saltRound","id","findUser","UserRepository","findByEmail","status","json","responses","error","genSalt","bcrypt","hasPassword","hash","create","walletId","WalletRepository","getAccount","getUserAccount","success","logger"],"mappings":";;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAPA;;AACA;;AAQA;AACA;AACA;AACA;AACA,MAAMA,kBAAN,CAAyB;AACrB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AAE2B,eAAVC,UAAU,CAACC,GAAD,EAAMC,GAAN,EAAW;AAC9B,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA;AAAnB,QAAgCJ,GAAG,CAACK,IAA1C;AACA,UAAMC,SAAS,GAAG,EAAlB;;AAEA,QAAI;AACA,YAAMC,EAAE,GAAG,kBAAX;AACA,YAAMC,QAAQ,GAAG,MAAMC,cAAeC,WAAf,CAA2BR,KAA3B,CAAvB;;AACA,UAAIM,QAAQ,CAAC,CAAD,CAAZ,EAAiB;AACb,eAAOP,GAAG,CACLU,MADE,CACK,GADL,EAEFC,IAFE,CAEGC,mBAAUC,KAAV,CAAgB,GAAhB,EAAqB,4BAArB,CAFH,CAAP;AAGH;;AACD,YAAMC,OAAO,GAAG,MAAMC,gBAAOD,OAAP,CAAeT,SAAf,CAAtB;AACA,YAAMW,WAAW,GAAG,MAAMD,gBAAOE,IAAP,CAAYf,QAAZ,EAAsBY,OAAtB,CAA1B;AACA,YAAMN,cAAeU,MAAf,CAAsBf,QAAtB,EAAgCF,KAAhC,EAAuCe,WAAvC,EAAoDV,EAApD,CAAN;AACA,YAAMa,QAAQ,GAAG,kBAAjB;AACA,YAAMC,gBAAiBF,MAAjB,CAAwBC,QAAxB,EAAkCb,EAAlC,CAAN;AACA,YAAMe,UAAU,GAAG,MAAMb,cAAec,cAAf,CAA8BhB,EAA9B,CAAzB;AACA,aAAON,GAAG,CACLU,MADE,CACK,GADL,EAEFC,IAFE,CAGCC,mBAAUW,OAAV,CACI,GADJ,EAEI,8BAFJ,EAGIF,UAAU,CAAC,CAAD,CAHd,CAHD,CAAP;AASH,KAvBD,CAuBE,OAAOR,KAAP,EAAc;AACZW,sBAAOX,KAAP,CAAaA,KAAb;;AACA,aAAOb,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,mBAAUC,KAAV,CAAgB,GAAhB,EAAqB,cAArB,CAArB,CAAP;AACH;AACJ;;AAzCoB;;eA4CVhB,kB","sourceRoot":"/Users/victor/work/lendsqr-test/src/controllers/","sourcesContent":["/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-console */\nimport bcrypt from 'bcrypt'\nimport { uuid } from 'uuidv4'\nimport logger from '../utilities/logger'\nimport responses from '../utilities/responses'\nimport UserRepository from '../repository/user'\nimport WalletRepository from '../repository/wallet'\n\n/**\n * @description Defines the actions to for the User endpoints\n * @class RegisterController\n */\nclass RegisterController {\n    /**\n     *@description Creates a new user\n     *@static\n     *@param  {Object} req - request\n     *@param  {object} res - response\n     *@returns {object} - status code, message and created user\n     *@memberof RegisterController\n     */\n\n    static async newAccount(req, res) {\n        const { email, password, fullName } = req.body\n        const saltRound = 10\n\n        try {\n            const id = uuid()\n            const findUser = await UserRepository.findByEmail(email)\n            if (findUser[0]) {\n                return res\n                    .status(400)\n                    .json(responses.error(400, 'This account already exist'))\n            }\n            const genSalt = await bcrypt.genSalt(saltRound)\n            const hasPassword = await bcrypt.hash(password, genSalt)\n            await UserRepository.create(fullName, email, hasPassword, id)\n            const walletId = uuid()\n            await WalletRepository.create(walletId, id)\n            const getAccount = await UserRepository.getUserAccount(id)\n            return res\n                .status(201)\n                .json(\n                    responses.success(\n                        201,\n                        'Account created successfully',\n                        getAccount[0]\n                    )\n                )\n        } catch (error) {\n            logger.error(error)\n            return res.status(500).json(responses.error(500, 'Server error'))\n        }\n    }\n}\n\nexport default RegisterController\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"17b2f9f826c330e49d6b2b94bf4ff896e092a084","contentHash":"a679e2378844f95c79759b6d439070ada58dba10b1b25b91e076a59e0480bfea"},"/Users/victor/work/lendsqr-test/src/routes/auth.js":{"path":"/Users/victor/work/lendsqr-test/src/routes/auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":77}},"4":{"start":{"line":12,"column":21},"end":{"line":12,"column":60}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":48}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":19,"column":15},"end":{"line":19,"column":37}},"8":{"start":{"line":22,"column":4},"end":{"line":22,"column":17}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":83}},"10":{"start":{"line":24,"column":15},"end":{"line":24,"column":21}},"11":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["router","login","AuthController","post","validate"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;;;AAHA;AAKA,MAAMA,MAAM,GAAG,sBAAf;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAYC,aAAlB;AAEAF,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAsB,2BAAtB,EAAwCC,uBAAxC,EAAkDH,KAAlD;eAEeD,M","sourceRoot":"/Users/victor/work/lendsqr-test/src/routes/","sourcesContent":["import { Router } from 'express'\n// import { createValidator } from 'express-joi-validation'\nimport AuthController from '../controllers/auth.controller'\nimport { validate } from '../middlewares/errorhandlers'\nimport { authBodySchema } from '../validators/user.schema'\n\nconst router = Router()\n\nconst { login } = AuthController\n\nrouter.post('/login', authBodySchema(), validate, login)\n\nexport default router\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0494296abe573492c8bf9e0e2d8b69587d152a07","contentHash":"325e672c8bbb802da95d96a65b6406d65bdf3e3b78736a146e0e1ee5d1b85166"},"/Users/victor/work/lendsqr-test/src/controllers/auth.controller.js":{"path":"/Users/victor/work/lendsqr-test/src/controllers/auth.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":68}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":74}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":74}},"6":{"start":{"line":16,"column":12},"end":{"line":16,"column":65}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":93}},"8":{"start":{"line":36,"column":8},"end":{"line":36,"column":16}},"9":{"start":{"line":38,"column":4},"end":{"line":64,"column":5}},"10":{"start":{"line":39,"column":19},"end":{"line":39,"column":57}},"11":{"start":{"line":41,"column":6},"end":{"line":43,"column":7}},"12":{"start":{"line":42,"column":8},"end":{"line":42,"column":106}},"13":{"start":{"line":45,"column":20},"end":{"line":45,"column":77}},"14":{"start":{"line":46,"column":6},"end":{"line":46,"column":25}},"15":{"start":{"line":48,"column":6},"end":{"line":50,"column":7}},"16":{"start":{"line":49,"column":8},"end":{"line":49,"column":90}},"17":{"start":{"line":52,"column":24},"end":{"line":54,"column":7}},"18":{"start":{"line":56,"column":20},"end":{"line":56,"column":54}},"19":{"start":{"line":57,"column":6},"end":{"line":59,"column":10}},"20":{"start":{"line":61,"column":6},"end":{"line":61,"column":35}},"21":{"start":{"line":63,"column":6},"end":{"line":63,"column":72}},"22":{"start":{"line":69,"column":15},"end":{"line":69,"column":29}},"23":{"start":{"line":70,"column":0},"end":{"line":70,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":95}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":32,"column":2},"end":{"line":32,"column":3}},"loc":{"start":{"line":32,"column":31},"end":{"line":65,"column":3}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":92}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":92}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18},"2":{"loc":{"start":{"line":41,"column":6},"end":{"line":43,"column":7}},"type":"if","locations":[{"start":{"line":41,"column":6},"end":{"line":43,"column":7}},{"start":{"line":41,"column":6},"end":{"line":43,"column":7}}],"line":41},"3":{"loc":{"start":{"line":48,"column":6},"end":{"line":50,"column":7}},"type":"if","locations":[{"start":{"line":48,"column":6},"end":{"line":50,"column":7}},{"start":{"line":48,"column":6},"end":{"line":50,"column":7}}],"line":48}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":10,"9":10,"10":10,"11":10,"12":0,"13":10,"14":10,"15":10,"16":0,"17":10,"18":10,"19":10,"20":0,"21":0,"22":1,"23":1},"f":{"0":5,"1":10},"b":{"0":[4,1],"1":[5,5],"2":[0,10],"3":[0,10]},"inputSourceMap":{"version":3,"sources":["auth.controller.js"],"names":["AuthController","login","req","res","email","password","body","user","UserRepository","findByEmail","status","json","responses","error","valid","bcrypt","compare","console","log","TokenData","id","token","success","logger"],"mappings":";;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AANA;;AACA;AAOA,MAAMA,cAAN,CAAqB;AACjB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACsB,eAALC,KAAK,CAACC,GAAD,EAAMC,GAAN,EAAW;AACzB,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAAsBH,GAAG,CAACI,IAAhC;;AACA,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMC,cAAeC,WAAf,CAA2BL,KAA3B,CAAnB;;AACA,UAAIG,IAAI,KAAK,EAAb,EAAiB;AACb,eAAOJ,GAAG,CACLO,MADE,CACK,GADL,EAEFC,IAFE,CAGCC,mBAAUC,KAAV,CACI,GADJ,EAEI,qCAFJ,CAHD,CAAP;AAQH;;AACD,YAAMC,KAAK,GAAG,MAAMC,gBAAOC,OAAP,CAAeX,QAAf,EAAyBE,IAAI,CAAC,CAAD,CAAJ,CAAQF,QAAjC,CAApB;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;;AAEA,UAAI,CAACA,KAAL,EAAY;AACR,eAAOX,GAAG,CACLO,MADE,CACK,GADL,EAEFC,IAFE,CAEGC,mBAAUC,KAAV,CAAgB,GAAhB,EAAqB,qBAArB,CAFH,CAAP;AAGH;;AACD,YAAMM,SAAS,GAAG;AACdC,QAAAA,EAAE,EAAEb,IAAI,CAAC,CAAD,CAAJ,CAAQa;AADE,OAAlB,CApBA,CAwBA;;AACA,YAAMC,KAAK,GAAG,wBAAUF,SAAV,CAAd;AAEA,aAAOhB,GAAG,CACLO,MADE,CACK,GADL,EAEFC,IAFE,CAEGC,mBAAUU,OAAV,CAAkB,GAAlB,EAAuB,iBAAvB,EAA0C;AAAED,QAAAA;AAAF,OAA1C,CAFH,CAAP;AAGH,KA9BD,CA8BE,OAAOR,KAAP,EAAc;AACZU,sBAAOV,KAAP,CAAaA,KAAb;;AACA,aAAOV,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,mBAAUC,KAAV,CAAgB,GAAhB,EAAqBA,KAArB,CAArB,CAAP;AACH;AACJ;;AA7CgB;;eAgDNb,c","sourceRoot":"/Users/victor/work/lendsqr-test/src/controllers/","sourcesContent":["/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-console */\nimport bcrypt from 'bcrypt'\nimport logger from '../utilities/logger'\nimport responses from '../utilities/responses'\nimport signToken from '../utilities/signToken'\nimport UserRepository from '../repository/user'\n\nclass AuthController {\n    /**\n     *@description login User\n     *@static\n     *@param  {Object} req - request\n     *@param  {object} res - response\n     *@returns {object} - status code, message and user auth object\n     *@memberof RegController\n     */\n    static async login(req, res) {\n        const { email, password } = req.body\n        try {\n            const user = await UserRepository.findByEmail(email)\n            if (user === []) {\n                return res\n                    .status(404)\n                    .json(\n                        responses.error(\n                            404,\n                            'user with this email does not exist'\n                        )\n                    )\n            }\n            const valid = await bcrypt.compare(password, user[0].password)\n            console.log(valid)\n\n            if (!valid) {\n                return res\n                    .status(400)\n                    .json(responses.error(400, 'invalid credentials'))\n            }\n            const TokenData = {\n                id: user[0].id,\n            }\n\n            //  Generate Token\n            const token = signToken(TokenData)\n\n            return res\n                .status(200)\n                .json(responses.success(200, 'auth successful', { token }))\n        } catch (error) {\n            logger.error(error)\n            return res.status(500).json(responses.error(500, error))\n        }\n    }\n}\n\nexport default AuthController\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"428a306d21a404f9abbbe3f8e499e260efcfb70f","contentHash":"4c8ac88a56873ecc3ade99543c94e8b281a0ed5896a757c587e4654a0c4b76c4"},"/Users/victor/work/lendsqr-test/src/utilities/signToken.js":{"path":"/Users/victor/work/lendsqr-test/src/utilities/signToken.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":43}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":44}},"4":{"start":{"line":12,"column":18},"end":{"line":18,"column":1}},"5":{"start":{"line":13,"column":18},"end":{"line":13,"column":47}},"6":{"start":{"line":14,"column":16},"end":{"line":16,"column":4}},"7":{"start":{"line":17,"column":2},"end":{"line":17,"column":15}},"8":{"start":{"line":20,"column":15},"end":{"line":20,"column":24}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":18},"end":{"line":12,"column":19}},"loc":{"start":{"line":12,"column":26},"end":{"line":18,"column":1}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":10,"6":10,"7":10,"8":1,"9":1},"f":{"0":10},"b":{},"inputSourceMap":{"version":3,"sources":["signToken.js"],"names":["signToken","data","Encrypt","development","jwtSecret","token","expiresIn"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAMA,SAAS,GAAIC,IAAD,IAAU;AACxB,QAAMC,OAAO,GAAGC,oBAAYC,SAA5B;AACA,QAAMC,KAAK,GAAG,wBAAKJ,IAAL,EAAWC,OAAX,EAAoB;AAAEI,IAAAA,SAAS,EAAE;AAAb,GAApB,CAAd;AAEA,SAAOD,KAAP;AACH,CALD;;eAOeL,S","sourceRoot":"/Users/victor/work/lendsqr-test/src/utilities/","sourcesContent":["import { sign } from 'jsonwebtoken'\nimport { development } from '../../config/config'\n\nconst signToken = (data) => {\n    const Encrypt = development.jwtSecret\n    const token = sign(data, Encrypt, { expiresIn: '1800s' })\n\n    return token\n}\n\nexport default signToken\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ea6c6d3c0396ee1901fd761e97185bb9e4f4157b","contentHash":"02d2a9c12fe3b4fc5c4c43e0a3c014a7f3afed04a6d8d1e775568ac104a1f2f7"},"/Users/victor/work/lendsqr-test/src/passport/jwt-strategy.js":{"path":"/Users/victor/work/lendsqr-test/src/passport/jwt-strategy.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":19},"end":{"line":8,"column":42}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":44}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":65}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":30},"end":{"line":33,"column":1}},"7":{"start":{"line":17,"column":18},"end":{"line":17,"column":20}},"8":{"start":{"line":18,"column":2},"end":{"line":18,"column":81}},"9":{"start":{"line":19,"column":2},"end":{"line":19,"column":54}},"10":{"start":{"line":20,"column":2},"end":{"line":32,"column":6}},"11":{"start":{"line":21,"column":4},"end":{"line":31,"column":7}},"12":{"start":{"line":22,"column":6},"end":{"line":22,"column":39}},"13":{"start":{"line":22,"column":15},"end":{"line":22,"column":39}},"14":{"start":{"line":24,"column":6},"end":{"line":28,"column":7}},"15":{"start":{"line":25,"column":8},"end":{"line":27,"column":11}},"16":{"start":{"line":30,"column":6},"end":{"line":30,"column":31}},"17":{"start":{"line":35,"column":15},"end":{"line":35,"column":36}},"18":{"start":{"line":36,"column":0},"end":{"line":36,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":30},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":42},"end":{"line":33,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":50},"end":{"line":20,"column":51}},"loc":{"start":{"line":20,"column":69},"end":{"line":32,"column":3}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":44},"end":{"line":21,"column":45}},"loc":{"start":{"line":21,"column":59},"end":{"line":31,"column":5}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":39}},"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":39}},{"start":{"line":22,"column":6},"end":{"line":22,"column":39}}],"line":22},"3":{"loc":{"start":{"line":24,"column":6},"end":{"line":28,"column":7}},"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":28,"column":7}},{"start":{"line":24,"column":6},"end":{"line":28,"column":7}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":13,"12":13,"13":0,"14":13,"15":13,"16":0,"17":1,"18":1},"f":{"0":1,"1":1,"2":13,"3":13},"b":{"0":[1,0],"1":[1,1],"2":[0,13],"3":[13,0]},"inputSourceMap":{"version":3,"sources":["jwt-strategy.js"],"names":["applyPassportStrategy","passport","options","jwtFromRequest","ExtractJwt","fromAuthHeaderAsBearerToken","secretOrKey","development","jwtSecret","use","Strategy","payload","done","UserRepository","findById","id","then","user","err"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,qBAAqB,GAAIC,QAAD,IAAc;AACxC,QAAMC,OAAO,GAAG,EAAhB;AACAA,EAAAA,OAAO,CAACC,cAAR,GAAyBC,wBAAWC,2BAAX,EAAzB;AACAH,EAAAA,OAAO,CAACI,WAAR,GAAsBC,oBAAYC,SAAlC;AACAP,EAAAA,QAAQ,CAACQ,GAAT,CACI,IAAIC,qBAAJ,CAAaR,OAAb,EAAsB,CAACS,OAAD,EAAUC,IAAV,KAAmB;AACrCC,kBAAeC,QAAf,CAAwBH,OAAO,CAACI,EAAhC,EAAoCC,IAApC,CAAyC,CAACC,IAAD,EAAOC,GAAP,KAAe;AACpD,UAAIA,GAAJ,EAAS,OAAON,IAAI,CAACM,GAAD,EAAM,KAAN,CAAX;;AACT,UAAID,IAAJ,EAAU;AACN,eAAOL,IAAI,CAAC,IAAD,EAAO;AACdG,UAAAA,EAAE,EAAEE,IAAI,CAAC,CAAD,CAAJ,CAAQF;AADE,SAAP,CAAX;AAGH;;AACD,aAAOH,IAAI,CAAC,IAAD,EAAO,KAAP,CAAX;AACH,KARD;AASH,GAVD,CADJ;AAaH,CAjBD;;eAkBeZ,qB","sourceRoot":"/Users/victor/work/lendsqr-test/src/passport/","sourcesContent":["import { Strategy, ExtractJwt } from 'passport-jwt'\nimport { development } from '../../config/config'\nimport UserRepository from '../repository/user'\n\nconst applyPassportStrategy = (passport) => {\n    const options = {}\n    options.jwtFromRequest = ExtractJwt.fromAuthHeaderAsBearerToken()\n    options.secretOrKey = development.jwtSecret\n    passport.use(\n        new Strategy(options, (payload, done) => {\n            UserRepository.findById(payload.id).then((user, err) => {\n                if (err) return done(err, false)\n                if (user) {\n                    return done(null, {\n                        id: user[0].id,\n                    })\n                }\n                return done(null, false)\n            })\n        })\n    )\n}\nexport default applyPassportStrategy\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e3ff4f7e9eb535b4c776dbaaa5be208e77097854","contentHash":"93b7c035569454d83d11d6c94a1256108261dc3c5f9dba7e065df2aec99dd5b0"},"/Users/victor/work/lendsqr-test/src/test/actions/routes/auth.js":{"path":"/Users/victor/work/lendsqr-test/src/test/actions/routes/auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":17},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":64}},"4":{"start":{"line":12,"column":19},"end":{"line":12,"column":75}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":70}},"6":{"start":{"line":16,"column":11},"end":{"line":16,"column":58}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":93}},"8":{"start":{"line":26,"column":14},"end":{"line":33,"column":1}},"9":{"start":{"line":27,"column":14},"end":{"line":30,"column":4}},"10":{"start":{"line":32,"column":2},"end":{"line":32,"column":13}},"11":{"start":{"line":35,"column":22},"end":{"line":43,"column":1}},"12":{"start":{"line":36,"column":14},"end":{"line":40,"column":4}},"13":{"start":{"line":42,"column":2},"end":{"line":42,"column":13}},"14":{"start":{"line":45,"column":15},"end":{"line":48,"column":1}},"15":{"start":{"line":49,"column":0},"end":{"line":49,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":95}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":14},"end":{"line":26,"column":15}},"loc":{"start":{"line":26,"column":41},"end":{"line":33,"column":1}},"line":26},"2":{"name":"(anonymous_2)","decl":{"start":{"line":35,"column":22},"end":{"line":35,"column":23}},"loc":{"start":{"line":35,"column":59},"end":{"line":43,"column":1}},"line":35}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":92}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":92}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":1,"9":11,"10":11,"11":1,"12":2,"13":2,"14":1,"15":1},"f":{"0":5,"1":11,"2":2},"b":{"0":[3,2],"1":[5,5]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["login","password","email","res","baseActions","sendPOSTRequest","app","urlMapper","LOGIN","createAccount","fullName","CREATE_NEW_ACCOUNT"],"mappings":";;;;;;;AAIA;;AACA;;AACA;;AACA;;AACA;;;;AARA;;AACA;;AACA;AACA;AAOA,MAAMA,KAAK,GAAG,OAAOC,QAAP,EAAiBC,KAAjB,KAA2B;AACrC,QAAMC,GAAG,GAAGC,qBAAYC,eAAZ,CAA4BC,YAA5B,EAAiCC,mBAAUC,KAA3C,EAAkD;AAC1DP,IAAAA,QAD0D;AAE1DC,IAAAA;AAF0D,GAAlD,CAAZ;;AAIA,SAAOC,GAAP;AACH,CAND;;AAOA,MAAMM,aAAa,GAAG,OAAOC,QAAP,EAAiBT,QAAjB,EAA2BC,KAA3B,KAAqC;AACvD,QAAMC,GAAG,GAAGC,qBAAYC,eAAZ,CAA4BC,YAA5B,EAAiCC,mBAAUI,kBAA3C,EAA+D;AACvED,IAAAA,QADuE;AAEvET,IAAAA,QAFuE;AAGvEC,IAAAA;AAHuE,GAA/D,CAAZ;;AAKA,SAAOC,GAAP;AACH,CAPD;;eASe;AACXH,EAAAA,KADW;AAEXS,EAAAA;AAFW,C","sourceRoot":"/Users/victor/work/lendsqr-test/src/test/actions/routes/","sourcesContent":["/* eslint-disable no-global-assign */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-undef */\n// import testdb from \"./db/testdb\";\nimport request from 'supertest'\nimport status from 'http-status'\nimport baseActions from '../common/baseActions'\nimport urlMapper from '../../../urMappers'\nimport app from '../../../app'\n\nconst login = async (password, email) => {\n    const res = baseActions.sendPOSTRequest(app, urlMapper.LOGIN, {\n        password,\n        email,\n    })\n    return res\n}\nconst createAccount = async (fullName, password, email) => {\n    const res = baseActions.sendPOSTRequest(app, urlMapper.CREATE_NEW_ACCOUNT, {\n        fullName,\n        password,\n        email,\n    })\n    return res\n}\n\nexport default {\n    login,\n    createAccount,\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"05eddb27601e3d03ee4008aace7c20e808e4b4cc","contentHash":"90ea4425c3560ce41016cfd9cc78322f2dfe26f863ab1f4c8b604ffb929ed09c"},"/Users/victor/work/lendsqr-test/src/test/testData/payloadData.js":{"path":"/Users/victor/work/lendsqr-test/src/test/testData/payloadData.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":20},"end":{"line":14,"column":1}},"3":{"start":{"line":15,"column":15},"end":{"line":15,"column":26}},"4":{"start":{"line":16,"column":0},"end":{"line":16,"column":27}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["payloadData.js"],"names":["userPayload","id","full_name","email","phone","password","country"],"mappings":";;;;;;AAAA,MAAMA,WAAW,GAAG;AAChBC,EAAAA,EAAE,EAAE,0BADY;AAEhBC,EAAAA,SAAS,EAAE,WAFK;AAGhBC,EAAAA,KAAK,EAAE,sBAHS;AAIhBC,EAAAA,KAAK,EAAE,gBAJS;AAKhBC,EAAAA,QAAQ,EAAE,eALM;AAMhBC,EAAAA,OAAO,EAAE;AANO,CAApB;eAQeN,W","sourceRoot":"/Users/victor/work/lendsqr-test/src/test/testData/","sourcesContent":["const userPayload = {\n    id: '6218815f485dbf5cdf3daf20',\n    full_name: 'testUser3',\n    email: 'test3email@gmail.com',\n    phone: '+2348102516540',\n    password: 'testpassword2',\n    country: 'santorin',\n}\nexport default userPayload\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c72e0ccb13acfc5104556a9287538d70232d841c","contentHash":"fca865c93db2df837e687cfa04a82ec527887c247a1e53987f7db4a9816ddbd7"},"/Users/victor/work/lendsqr-test/src/test/specs/integration/routes.register.spec.js":{"path":"/Users/victor/work/lendsqr-test/src/test/specs/integration/routes.register.spec.js","statementMap":{"0":{"start":{"line":3,"column":17},"end":{"line":3,"column":61}},"1":{"start":{"line":5,"column":18},"end":{"line":5,"column":64}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":53}},"3":{"start":{"line":9,"column":12},"end":{"line":9,"column":51}},"4":{"start":{"line":11,"column":13},"end":{"line":11,"column":30}},"5":{"start":{"line":13,"column":12},"end":{"line":13,"column":72}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":72}},"7":{"start":{"line":17,"column":19},"end":{"line":17,"column":80}},"8":{"start":{"line":19,"column":13},"end":{"line":19,"column":73}},"9":{"start":{"line":21,"column":39},"end":{"line":21,"column":93}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":30}},"11":{"start":{"line":32,"column":15},"end":{"line":32,"column":37}},"12":{"start":{"line":34,"column":0},"end":{"line":82,"column":3}},"13":{"start":{"line":35,"column":2},"end":{"line":41,"column":5}},"14":{"start":{"line":36,"column":4},"end":{"line":40,"column":7}},"15":{"start":{"line":37,"column":6},"end":{"line":39,"column":9}},"16":{"start":{"line":38,"column":8},"end":{"line":38,"column":15}},"17":{"start":{"line":42,"column":2},"end":{"line":46,"column":5}},"18":{"start":{"line":43,"column":4},"end":{"line":45,"column":7}},"19":{"start":{"line":44,"column":6},"end":{"line":44,"column":13}},"20":{"start":{"line":47,"column":2},"end":{"line":81,"column":5}},"21":{"start":{"line":48,"column":4},"end":{"line":62,"column":7}},"22":{"start":{"line":49,"column":32},"end":{"line":53,"column":7}},"23":{"start":{"line":54,"column":18},"end":{"line":54,"column":132}},"24":{"start":{"line":55,"column":6},"end":{"line":55,"column":57}},"25":{"start":{"line":56,"column":6},"end":{"line":56,"column":42}},"26":{"start":{"line":57,"column":6},"end":{"line":57,"column":47}},"27":{"start":{"line":58,"column":6},"end":{"line":58,"column":85}},"28":{"start":{"line":59,"column":6},"end":{"line":59,"column":79}},"29":{"start":{"line":60,"column":6},"end":{"line":60,"column":53}},"30":{"start":{"line":61,"column":6},"end":{"line":61,"column":52}},"31":{"start":{"line":63,"column":4},"end":{"line":80,"column":7}},"32":{"start":{"line":64,"column":32},"end":{"line":68,"column":7}},"33":{"start":{"line":69,"column":18},"end":{"line":69,"column":132}},"34":{"start":{"line":72,"column":10},"end":{"line":72,"column":28}},"35":{"start":{"line":75,"column":10},"end":{"line":75,"column":28}},"36":{"start":{"line":76,"column":6},"end":{"line":76,"column":61}},"37":{"start":{"line":77,"column":6},"end":{"line":77,"column":43}},"38":{"start":{"line":78,"column":6},"end":{"line":78,"column":43}},"39":{"start":{"line":79,"column":6},"end":{"line":79,"column":51}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":21,"column":9},"end":{"line":21,"column":31}},"loc":{"start":{"line":21,"column":37},"end":{"line":21,"column":95}},"line":21},"1":{"name":"(anonymous_1)","decl":{"start":{"line":34,"column":27},"end":{"line":34,"column":28}},"loc":{"start":{"line":34,"column":33},"end":{"line":82,"column":1}},"line":34},"2":{"name":"(anonymous_2)","decl":{"start":{"line":35,"column":13},"end":{"line":35,"column":14}},"loc":{"start":{"line":35,"column":21},"end":{"line":41,"column":3}},"line":35},"3":{"name":"(anonymous_3)","decl":{"start":{"line":36,"column":43},"end":{"line":36,"column":44}},"loc":{"start":{"line":36,"column":49},"end":{"line":40,"column":5}},"line":36},"4":{"name":"(anonymous_4)","decl":{"start":{"line":37,"column":43},"end":{"line":37,"column":44}},"loc":{"start":{"line":37,"column":49},"end":{"line":39,"column":7}},"line":37},"5":{"name":"(anonymous_5)","decl":{"start":{"line":42,"column":12},"end":{"line":42,"column":13}},"loc":{"start":{"line":42,"column":20},"end":{"line":46,"column":3}},"line":42},"6":{"name":"(anonymous_6)","decl":{"start":{"line":43,"column":43},"end":{"line":43,"column":44}},"loc":{"start":{"line":43,"column":49},"end":{"line":45,"column":5}},"line":43},"7":{"name":"(anonymous_7)","decl":{"start":{"line":47,"column":50},"end":{"line":47,"column":51}},"loc":{"start":{"line":47,"column":56},"end":{"line":81,"column":3}},"line":47},"8":{"name":"(anonymous_8)","decl":{"start":{"line":48,"column":29},"end":{"line":48,"column":30}},"loc":{"start":{"line":48,"column":41},"end":{"line":62,"column":5}},"line":48},"9":{"name":"(anonymous_9)","decl":{"start":{"line":63,"column":34},"end":{"line":63,"column":35}},"loc":{"start":{"line":63,"column":46},"end":{"line":80,"column":5}},"line":63}},"branchMap":{"0":{"loc":{"start":{"line":21,"column":46},"end":{"line":21,"column":92}},"type":"cond-expr","locations":[{"start":{"line":21,"column":70},"end":{"line":21,"column":73}},{"start":{"line":21,"column":76},"end":{"line":21,"column":92}}],"line":21},"1":{"loc":{"start":{"line":21,"column":46},"end":{"line":21,"column":67}},"type":"binary-expr","locations":[{"start":{"line":21,"column":46},"end":{"line":21,"column":49}},{"start":{"line":21,"column":53},"end":{"line":21,"column":67}}],"line":21}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":8,"10":1,"11":1,"12":1,"13":1,"14":2,"15":2,"16":2,"17":1,"18":2,"19":2,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1},"f":{"0":8,"1":1,"2":2,"3":2,"4":2,"5":2,"6":2,"7":1,"8":1,"9":1},"b":{"0":[4,4],"1":[8,8]},"inputSourceMap":{"version":3,"sources":["routes.register.spec.js"],"names":["process","env","NODE_ENV","should","chai","describe","beforeEach","done","client","migrate","rollback","then","latest","afterEach","it","newAccountPayload","fullName","email","password","res","authAction","createAccount","status","eql","CREATED","body","data","be","a","have","property","errors","BAD_REQUEST"],"mappings":"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","sourceRoot":"/Users/victor/work/lendsqr-test/src/test/specs/integration/","sourcesContent":["process.env.NODE_ENV = 'test'\n/* eslint-disable import/first */\n/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-undef */\n\nimport request from 'supertest'\nimport status from 'http-status'\nimport mocha from 'mocha'\nimport chai from 'chai'\nimport { uuid } from 'uuidv4'\nimport UserAction from '../../actions/routes/user'\nimport authAction from '../../actions/routes/auth'\nimport userPayload from '../../testData/payloadData'\nimport client from '../../../repository/index'\n\nconst should = chai.should()\n\ndescribe('routes testing', () => {\n    beforeEach((done) => {\n        client.migrate.rollback().then(() => {\n            client.migrate.latest().then(() => {\n                done()\n            })\n        })\n    })\n\n    afterEach((done) => {\n        client.migrate.rollback().then(() => {\n            done()\n        })\n    })\n    describe('POST Request: /register/new/account', () => {\n        it('create new account', async () => {\n            const newAccountPayload = {\n                fullName: 'testUser',\n                email: 'testuser4@gmail.com',\n                password: 'welcome@1',\n            }\n            const res = await authAction.createAccount(\n                newAccountPayload.fullName,\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            res.status.should.eql(status.CREATED)\n            res.body.data.should.be.a('object')\n            res.body.data.should.have.property('id')\n            res.body.data.should.have\n                .property('fullName')\n                .eql(newAccountPayload.fullName)\n            res.body.data.should.have\n                .property('email')\n                .eql(newAccountPayload.email)\n            res.body.data.should.have.property('walletId')\n            res.body.data.should.have.property('balance')\n        })\n        it('should return an error ', async () => {\n            const newAccountPayload = {\n                fullName: '',\n                email: 'testuser4',\n                password: 'welcome@1',\n            }\n            const res = await authAction.createAccount(\n                newAccountPayload.fullName,\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const { fullName } = res.body.errors[0]\n            const { email } = res.body.errors[1]\n            res.status.should.eql(status.BAD_REQUEST)\n            res.body.errors.should.be.a('array')\n            email.should.eql('must be an email')\n            fullName.should.eql('Full Name is required')\n        })\n    })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"86d9b001da9431e9bb2c22c891b8b8d8a9dc5981","contentHash":"6c37f92de329946200c3453933f4f4af098a575e003f2ea40b7b2ac534106758"},"/Users/victor/work/lendsqr-test/src/test/specs/integration/routes.user.spec.js":{"path":"/Users/victor/work/lendsqr-test/src/test/specs/integration/routes.user.spec.js","statementMap":{"0":{"start":{"line":3,"column":17},"end":{"line":3,"column":61}},"1":{"start":{"line":5,"column":18},"end":{"line":5,"column":64}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":53}},"3":{"start":{"line":9,"column":12},"end":{"line":9,"column":51}},"4":{"start":{"line":11,"column":12},"end":{"line":11,"column":72}},"5":{"start":{"line":13,"column":12},"end":{"line":13,"column":72}},"6":{"start":{"line":15,"column":13},"end":{"line":15,"column":73}},"7":{"start":{"line":17,"column":39},"end":{"line":17,"column":93}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":30}},"9":{"start":{"line":28,"column":15},"end":{"line":28,"column":37}},"10":{"start":{"line":30,"column":0},"end":{"line":220,"column":3}},"11":{"start":{"line":31,"column":2},"end":{"line":39,"column":5}},"12":{"start":{"line":32,"column":4},"end":{"line":38,"column":7}},"13":{"start":{"line":33,"column":6},"end":{"line":37,"column":9}},"14":{"start":{"line":34,"column":8},"end":{"line":36,"column":11}},"15":{"start":{"line":35,"column":10},"end":{"line":35,"column":17}},"16":{"start":{"line":40,"column":2},"end":{"line":44,"column":5}},"17":{"start":{"line":41,"column":4},"end":{"line":43,"column":7}},"18":{"start":{"line":42,"column":6},"end":{"line":42,"column":13}},"19":{"start":{"line":45,"column":2},"end":{"line":69,"column":5}},"20":{"start":{"line":46,"column":4},"end":{"line":68,"column":7}},"21":{"start":{"line":47,"column":32},"end":{"line":51,"column":7}},"22":{"start":{"line":52,"column":24},"end":{"line":52,"column":102}},"23":{"start":{"line":55,"column":10},"end":{"line":55,"column":29}},"24":{"start":{"line":56,"column":18},"end":{"line":56,"column":58}},"25":{"start":{"line":57,"column":6},"end":{"line":57,"column":52}},"26":{"start":{"line":58,"column":6},"end":{"line":58,"column":42}},"27":{"start":{"line":59,"column":6},"end":{"line":59,"column":47}},"28":{"start":{"line":60,"column":6},"end":{"line":60,"column":85}},"29":{"start":{"line":61,"column":6},"end":{"line":61,"column":79}},"30":{"start":{"line":62,"column":6},"end":{"line":62,"column":53}},"31":{"start":{"line":63,"column":6},"end":{"line":63,"column":52}},"32":{"start":{"line":64,"column":6},"end":{"line":64,"column":50}},"33":{"start":{"line":65,"column":6},"end":{"line":65,"column":47}},"34":{"start":{"line":66,"column":6},"end":{"line":66,"column":50}},"35":{"start":{"line":67,"column":6},"end":{"line":67,"column":49}},"36":{"start":{"line":70,"column":2},"end":{"line":110,"column":5}},"37":{"start":{"line":71,"column":4},"end":{"line":92,"column":7}},"38":{"start":{"line":72,"column":32},"end":{"line":76,"column":7}},"39":{"start":{"line":77,"column":27},"end":{"line":77,"column":105}},"40":{"start":{"line":78,"column":21},"end":{"line":78,"column":49}},"41":{"start":{"line":79,"column":21},"end":{"line":79,"column":25}},"42":{"start":{"line":80,"column":18},"end":{"line":80,"column":64}},"43":{"start":{"line":81,"column":6},"end":{"line":81,"column":52}},"44":{"start":{"line":82,"column":6},"end":{"line":82,"column":42}},"45":{"start":{"line":83,"column":6},"end":{"line":83,"column":47}},"46":{"start":{"line":84,"column":6},"end":{"line":84,"column":85}},"47":{"start":{"line":85,"column":6},"end":{"line":85,"column":79}},"48":{"start":{"line":86,"column":6},"end":{"line":86,"column":53}},"49":{"start":{"line":87,"column":6},"end":{"line":87,"column":64}},"50":{"start":{"line":88,"column":6},"end":{"line":88,"column":50}},"51":{"start":{"line":89,"column":6},"end":{"line":89,"column":47}},"52":{"start":{"line":90,"column":6},"end":{"line":90,"column":50}},"53":{"start":{"line":91,"column":6},"end":{"line":91,"column":49}},"54":{"start":{"line":93,"column":4},"end":{"line":109,"column":7}},"55":{"start":{"line":94,"column":32},"end":{"line":98,"column":7}},"56":{"start":{"line":99,"column":27},"end":{"line":99,"column":105}},"57":{"start":{"line":100,"column":21},"end":{"line":100,"column":49}},"58":{"start":{"line":101,"column":27},"end":{"line":101,"column":28}},"59":{"start":{"line":102,"column":18},"end":{"line":102,"column":70}},"60":{"start":{"line":105,"column":10},"end":{"line":105,"column":28}},"61":{"start":{"line":106,"column":6},"end":{"line":106,"column":61}},"62":{"start":{"line":107,"column":6},"end":{"line":107,"column":43}},"63":{"start":{"line":108,"column":6},"end":{"line":108,"column":57}},"64":{"start":{"line":111,"column":2},"end":{"line":175,"column":5}},"65":{"start":{"line":112,"column":4},"end":{"line":143,"column":7}},"66":{"start":{"line":113,"column":33},"end":{"line":117,"column":7}},"67":{"start":{"line":118,"column":28},"end":{"line":118,"column":108}},"68":{"start":{"line":119,"column":21},"end":{"line":119,"column":50}},"69":{"start":{"line":120,"column":23},"end":{"line":120,"column":64}},"70":{"start":{"line":121,"column":29},"end":{"line":121,"column":56}},"71":{"start":{"line":122,"column":32},"end":{"line":126,"column":7}},"72":{"start":{"line":127,"column":28},"end":{"line":127,"column":106}},"73":{"start":{"line":128,"column":21},"end":{"line":128,"column":50}},"74":{"start":{"line":129,"column":31},"end":{"line":129,"column":35}},"75":{"start":{"line":130,"column":6},"end":{"line":130,"column":63}},"76":{"start":{"line":131,"column":18},"end":{"line":131,"column":93}},"77":{"start":{"line":132,"column":6},"end":{"line":132,"column":52}},"78":{"start":{"line":133,"column":6},"end":{"line":133,"column":42}},"79":{"start":{"line":134,"column":6},"end":{"line":134,"column":47}},"80":{"start":{"line":135,"column":6},"end":{"line":135,"column":85}},"81":{"start":{"line":136,"column":6},"end":{"line":136,"column":79}},"82":{"start":{"line":137,"column":6},"end":{"line":137,"column":53}},"83":{"start":{"line":138,"column":6},"end":{"line":138,"column":59}},"84":{"start":{"line":139,"column":6},"end":{"line":139,"column":50}},"85":{"start":{"line":140,"column":6},"end":{"line":140,"column":47}},"86":{"start":{"line":141,"column":6},"end":{"line":141,"column":50}},"87":{"start":{"line":142,"column":6},"end":{"line":142,"column":49}},"88":{"start":{"line":144,"column":4},"end":{"line":174,"column":7}},"89":{"start":{"line":145,"column":33},"end":{"line":149,"column":7}},"90":{"start":{"line":150,"column":28},"end":{"line":150,"column":108}},"91":{"start":{"line":151,"column":21},"end":{"line":151,"column":50}},"92":{"start":{"line":152,"column":23},"end":{"line":152,"column":64}},"93":{"start":{"line":153,"column":29},"end":{"line":153,"column":56}},"94":{"start":{"line":154,"column":32},"end":{"line":158,"column":7}},"95":{"start":{"line":159,"column":28},"end":{"line":159,"column":106}},"96":{"start":{"line":160,"column":21},"end":{"line":160,"column":50}},"97":{"start":{"line":161,"column":31},"end":{"line":161,"column":32}},"98":{"start":{"line":162,"column":6},"end":{"line":162,"column":63}},"99":{"start":{"line":163,"column":18},"end":{"line":163,"column":81}},"100":{"start":{"line":166,"column":10},"end":{"line":166,"column":28}},"101":{"start":{"line":169,"column":10},"end":{"line":169,"column":28}},"102":{"start":{"line":170,"column":6},"end":{"line":170,"column":61}},"103":{"start":{"line":171,"column":6},"end":{"line":171,"column":43}},"104":{"start":{"line":172,"column":6},"end":{"line":172,"column":57}},"105":{"start":{"line":173,"column":6},"end":{"line":173,"column":50}},"106":{"start":{"line":176,"column":2},"end":{"line":219,"column":5}},"107":{"start":{"line":177,"column":4},"end":{"line":199,"column":7}},"108":{"start":{"line":178,"column":32},"end":{"line":182,"column":7}},"109":{"start":{"line":183,"column":27},"end":{"line":183,"column":105}},"110":{"start":{"line":184,"column":21},"end":{"line":184,"column":49}},"111":{"start":{"line":185,"column":21},"end":{"line":185,"column":25}},"112":{"start":{"line":186,"column":6},"end":{"line":186,"column":53}},"113":{"start":{"line":187,"column":18},"end":{"line":187,"column":67}},"114":{"start":{"line":188,"column":6},"end":{"line":188,"column":52}},"115":{"start":{"line":189,"column":6},"end":{"line":189,"column":42}},"116":{"start":{"line":190,"column":6},"end":{"line":190,"column":47}},"117":{"start":{"line":191,"column":6},"end":{"line":191,"column":85}},"118":{"start":{"line":192,"column":6},"end":{"line":192,"column":79}},"119":{"start":{"line":193,"column":6},"end":{"line":193,"column":53}},"120":{"start":{"line":194,"column":6},"end":{"line":194,"column":59}},"121":{"start":{"line":195,"column":6},"end":{"line":195,"column":50}},"122":{"start":{"line":196,"column":6},"end":{"line":196,"column":47}},"123":{"start":{"line":197,"column":6},"end":{"line":197,"column":50}},"124":{"start":{"line":198,"column":6},"end":{"line":198,"column":49}},"125":{"start":{"line":200,"column":4},"end":{"line":218,"column":7}},"126":{"start":{"line":201,"column":32},"end":{"line":205,"column":7}},"127":{"start":{"line":206,"column":27},"end":{"line":206,"column":105}},"128":{"start":{"line":207,"column":21},"end":{"line":207,"column":49}},"129":{"start":{"line":208,"column":27},"end":{"line":208,"column":31}},"130":{"start":{"line":209,"column":31},"end":{"line":209,"column":32}},"131":{"start":{"line":210,"column":6},"end":{"line":210,"column":59}},"132":{"start":{"line":211,"column":18},"end":{"line":211,"column":77}},"133":{"start":{"line":214,"column":10},"end":{"line":214,"column":28}},"134":{"start":{"line":215,"column":6},"end":{"line":215,"column":61}},"135":{"start":{"line":216,"column":6},"end":{"line":216,"column":43}},"136":{"start":{"line":217,"column":6},"end":{"line":217,"column":57}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":95}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":30,"column":27},"end":{"line":30,"column":28}},"loc":{"start":{"line":30,"column":33},"end":{"line":220,"column":1}},"line":30},"2":{"name":"(anonymous_2)","decl":{"start":{"line":31,"column":13},"end":{"line":31,"column":14}},"loc":{"start":{"line":31,"column":21},"end":{"line":39,"column":3}},"line":31},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":43},"end":{"line":32,"column":44}},"loc":{"start":{"line":32,"column":49},"end":{"line":38,"column":5}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":33,"column":43},"end":{"line":33,"column":44}},"loc":{"start":{"line":33,"column":49},"end":{"line":37,"column":7}},"line":33},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":39},"end":{"line":34,"column":40}},"loc":{"start":{"line":34,"column":45},"end":{"line":36,"column":9}},"line":34},"6":{"name":"(anonymous_6)","decl":{"start":{"line":40,"column":12},"end":{"line":40,"column":13}},"loc":{"start":{"line":40,"column":20},"end":{"line":44,"column":3}},"line":40},"7":{"name":"(anonymous_7)","decl":{"start":{"line":41,"column":43},"end":{"line":41,"column":44}},"loc":{"start":{"line":41,"column":49},"end":{"line":43,"column":5}},"line":41},"8":{"name":"(anonymous_8)","decl":{"start":{"line":45,"column":41},"end":{"line":45,"column":42}},"loc":{"start":{"line":45,"column":47},"end":{"line":69,"column":3}},"line":45},"9":{"name":"(anonymous_9)","decl":{"start":{"line":46,"column":27},"end":{"line":46,"column":28}},"loc":{"start":{"line":46,"column":39},"end":{"line":68,"column":5}},"line":46},"10":{"name":"(anonymous_10)","decl":{"start":{"line":70,"column":41},"end":{"line":70,"column":42}},"loc":{"start":{"line":70,"column":47},"end":{"line":110,"column":3}},"line":70},"11":{"name":"(anonymous_11)","decl":{"start":{"line":71,"column":22},"end":{"line":71,"column":23}},"loc":{"start":{"line":71,"column":34},"end":{"line":92,"column":5}},"line":71},"12":{"name":"(anonymous_12)","decl":{"start":{"line":93,"column":32},"end":{"line":93,"column":33}},"loc":{"start":{"line":93,"column":44},"end":{"line":109,"column":5}},"line":93},"13":{"name":"(anonymous_13)","decl":{"start":{"line":111,"column":49},"end":{"line":111,"column":50}},"loc":{"start":{"line":111,"column":55},"end":{"line":175,"column":3}},"line":111},"14":{"name":"(anonymous_14)","decl":{"start":{"line":112,"column":25},"end":{"line":112,"column":26}},"loc":{"start":{"line":112,"column":37},"end":{"line":143,"column":5}},"line":112},"15":{"name":"(anonymous_15)","decl":{"start":{"line":144,"column":32},"end":{"line":144,"column":33}},"loc":{"start":{"line":144,"column":44},"end":{"line":174,"column":5}},"line":144},"16":{"name":"(anonymous_16)","decl":{"start":{"line":176,"column":44},"end":{"line":176,"column":45}},"loc":{"start":{"line":176,"column":50},"end":{"line":219,"column":3}},"line":176},"17":{"name":"(anonymous_17)","decl":{"start":{"line":177,"column":36},"end":{"line":177,"column":37}},"loc":{"start":{"line":177,"column":48},"end":{"line":199,"column":5}},"line":177},"18":{"name":"(anonymous_18)","decl":{"start":{"line":200,"column":32},"end":{"line":200,"column":33}},"loc":{"start":{"line":200,"column":44},"end":{"line":218,"column":5}},"line":200}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":92}},"type":"cond-expr","locations":[{"start":{"line":17,"column":70},"end":{"line":17,"column":73}},{"start":{"line":17,"column":76},"end":{"line":17,"column":92}}],"line":17},"1":{"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":67}},"type":"binary-expr","locations":[{"start":{"line":17,"column":46},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":67}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":7,"8":1,"9":1,"10":1,"11":1,"12":7,"13":7,"14":7,"15":7,"16":1,"17":7,"18":7,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1},"f":{"0":7,"1":1,"2":7,"3":7,"4":7,"5":7,"6":7,"7":7,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"b":{"0":[3,4],"1":[7,7]},"inputSourceMap":{"version":3,"sources":["routes.user.spec.js"],"names":["process","env","NODE_ENV","should","chai","describe","beforeEach","done","client","migrate","rollback","then","latest","seed","run","afterEach","it","newAccountPayload","fullName","email","password","userlogin","authAction","login","token","body","data","res","UserAction","getUserAcount","status","eql","OK","be","a","have","property","not","walletId","balance","accountLogin","token1","amount","fundWallet","amountTofund","errors","BAD_REQUEST","newAccountPayload2","account2login","token2","account2","account2Wallet","account1login","amountToTransfer","transferFunds","withdrawFunds","amountToFund","amountToWithdraw"],"mappings":"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","sourceRoot":"/Users/victor/work/lendsqr-test/src/test/specs/integration/","sourcesContent":["process.env.NODE_ENV = 'test'\n/* eslint-disable import/first */\n/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-undef */\n\nimport request from 'supertest'\nimport status from 'http-status'\nimport mocha from 'mocha'\nimport chai from 'chai'\nimport UserAction from '../../actions/routes/user'\nimport authAction from '../../actions/routes/auth'\nimport client from '../../../repository/index'\n\nconst should = chai.should()\n\ndescribe('routes testing', () => {\n    beforeEach((done) => {\n        client.migrate.rollback().then(() => {\n            client.migrate.latest().then(() => {\n                client.seed.run().then(() => {\n                    done()\n                })\n            })\n        })\n    })\n\n    afterEach((done) => {\n        client.migrate.rollback().then(() => {\n            done()\n        })\n    })\n\n    describe('GET Request: /user/account', () => {\n        it('get user account', async () => {\n            const newAccountPayload = {\n                fullName: 'testuser1',\n                email: 'testuser1@gmail.com',\n                password: 'welcome@1',\n            }\n            const userlogin = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const { token } = userlogin.body.data\n            const res = await UserAction.getUserAcount(token)\n            res.status.should.eql(status.OK)\n            res.body.data.should.be.a('object')\n            res.body.data.should.have.property('id')\n            res.body.data.should.have\n                .property('fullName')\n                .eql(newAccountPayload.fullName)\n            res.body.data.should.have\n                .property('email')\n                .eql(newAccountPayload.email)\n            res.body.data.should.have.property('walletId')\n            res.body.data.should.have.property('balance')\n            res.body.data.fullName.should.not.eql(null)\n            res.body.data.email.should.not.eql(null)\n            res.body.data.walletId.should.not.eql(null)\n            res.body.data.balance.should.not.eql(null)\n        })\n    })\n\n    describe('POST Request: /fund/wallet', () => {\n        it('Fund wallet', async () => {\n            const newAccountPayload = {\n                fullName: 'testuser1',\n                email: 'testuser1@gmail.com',\n                password: 'welcome@1',\n            }\n\n            const accountLogin = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const token1 = accountLogin.body.data.token\n            const amount = 5000\n            const res = await UserAction.fundWallet(amount, token1)\n            res.status.should.eql(status.OK)\n            res.body.data.should.be.a('object')\n            res.body.data.should.have.property('id')\n            res.body.data.should.have\n                .property('fullName')\n                .eql(newAccountPayload.fullName)\n            res.body.data.should.have\n                .property('email')\n                .eql(newAccountPayload.email)\n            res.body.data.should.have.property('walletId')\n            res.body.data.should.have.property('balance').eql(amount)\n            res.body.data.fullName.should.not.eql(null)\n            res.body.data.email.should.not.eql(null)\n            res.body.data.walletId.should.not.eql(null)\n            res.body.data.balance.should.not.eql(null)\n        })\n        it('Should throw an error', async () => {\n            const newAccountPayload = {\n                fullName: 'testuser1',\n                email: 'testuser1@gmail.com',\n                password: 'welcome@1',\n            }\n\n            const accountLogin = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const token1 = accountLogin.body.data.token\n            const amountTofund = 0\n            const res = await UserAction.fundWallet(amountTofund, token1)\n            const { amount } = res.body.errors[0]\n            res.status.should.eql(status.BAD_REQUEST)\n            res.body.errors.should.be.a('array')\n            amount.should.eql('amount must be greater than 0')\n        })\n    })\n    describe('POST Request: /user/transfer/funds', () => {\n        it('transfer funds', async () => {\n            const newAccountPayload2 = {\n                fullName: 'testuser1',\n                email: 'testuser1@gmail.com',\n                password: 'welcome@1',\n            }\n            const account2login = await authAction.login(\n                newAccountPayload2.password,\n                newAccountPayload2.email\n            )\n            const token2 = account2login.body.data.token\n            const account2 = await UserAction.getUserAcount(token2)\n            const account2Wallet = account2.body.data.walletId\n            const newAccountPayload = {\n                fullName: 'testuser3',\n                email: 'testuser3@gmail.com',\n                password: 'welcome@1',\n            }\n            const account1login = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const token1 = account1login.body.data.token\n            const amountToTransfer = 1000\n            await UserAction.fundWallet(amountToTransfer, token1)\n            const res = await UserAction.transferFunds(\n                amountToTransfer,\n                account2Wallet,\n                token1\n            )\n            res.status.should.eql(status.OK)\n            res.body.data.should.be.a('object')\n            res.body.data.should.have.property('id')\n            res.body.data.should.have\n                .property('fullName')\n                .eql(newAccountPayload.fullName)\n            res.body.data.should.have\n                .property('email')\n                .eql(newAccountPayload.email)\n            res.body.data.should.have.property('walletId')\n            res.body.data.should.have.property('balance').eql(0)\n            res.body.data.fullName.should.not.eql(null)\n            res.body.data.email.should.not.eql(null)\n            res.body.data.walletId.should.not.eql(null)\n            res.body.data.balance.should.not.eql(null)\n        })\n        it('should throw an error', async () => {\n            const newAccountPayload2 = {\n                fullName: 'testuser1',\n                email: 'testuser1@gmail.com',\n                password: 'welcome@1',\n            }\n            const account2login = await authAction.login(\n                newAccountPayload2.password,\n                newAccountPayload2.email\n            )\n            const token2 = account2login.body.data.token\n            const account2 = await UserAction.getUserAcount(token2)\n            const account2Wallet = account2.body.data.walletId\n            const newAccountPayload = {\n                fullName: 'testuser3',\n                email: 'testuser3@gmail.com',\n                password: 'welcome@1',\n            }\n            const account1login = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const token1 = account1login.body.data.token\n            const amountToTransfer = 0\n            await UserAction.fundWallet(amountToTransfer, token1)\n            const res = await UserAction.transferFunds(\n                amountToTransfer,\n                '',\n                token1\n            )\n            const { amount } = res.body.errors[0]\n            const { walletId } = res.body.errors[1]\n            res.status.should.eql(status.BAD_REQUEST)\n            res.body.errors.should.be.a('array')\n            amount.should.eql('amount must be greater than 0')\n            walletId.should.eql('walletId is required')\n        })\n    })\n\n    describe('POST Request: /withdraw/funds', () => {\n        it('withdraw Fund from wallet', async () => {\n            const newAccountPayload = {\n                fullName: 'testuser1',\n                email: 'testuser1@gmail.com',\n                password: 'welcome@1',\n            }\n            const accountLogin = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const token1 = accountLogin.body.data.token\n            const amount = 1000\n            await UserAction.fundWallet(amount, token1)\n            const res = await UserAction.withdrawFunds(amount, token1)\n            res.status.should.eql(status.OK)\n            res.body.data.should.be.a('object')\n            res.body.data.should.have.property('id')\n            res.body.data.should.have\n                .property('fullName')\n                .eql(newAccountPayload.fullName)\n            res.body.data.should.have\n                .property('email')\n                .eql(newAccountPayload.email)\n            res.body.data.should.have.property('walletId')\n            res.body.data.should.have.property('balance').eql(0)\n            res.body.data.fullName.should.not.eql(null)\n            res.body.data.email.should.not.eql(null)\n            res.body.data.walletId.should.not.eql(null)\n            res.body.data.balance.should.not.eql(null)\n        })\n        it('should throw an error', async () => {\n            const newAccountPayload = {\n                fullName: 'testuser1',\n                email: 'testuser1@gmail.com',\n                password: 'welcome@1',\n            }\n            const accountLogin = await authAction.login(\n                newAccountPayload.password,\n                newAccountPayload.email\n            )\n            const token1 = accountLogin.body.data.token\n            const amountToFund = 1000\n            const amountToWithdraw = 0\n            await UserAction.fundWallet(amountToFund, token1)\n            const res = await UserAction.withdrawFunds(amountToWithdraw, token1)\n            const { amount } = res.body.errors[0]\n            res.status.should.eql(status.BAD_REQUEST)\n            res.body.errors.should.be.a('array')\n            amount.should.eql('amount must be greater than 0')\n        })\n    })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"88e38a0f638f32d4e978eab76df3143b27c8a5b0","contentHash":"98befc3dc127e428ca2920ac891d397c881d7cd611a3fd9ee3658292d0e713c0"},"/Users/victor/work/lendsqr-test/migrations/20220312193340_create_users_table.js":{"path":"/Users/victor/work/lendsqr-test/migrations/20220312193340_create_users_table.js","statementMap":{"0":{"start":{"line":9,"column":0},"end":{"line":18,"column":2}},"1":{"start":{"line":10,"column":2},"end":{"line":17,"column":5}},"2":{"start":{"line":11,"column":4},"end":{"line":11,"column":29}},"3":{"start":{"line":12,"column":4},"end":{"line":12,"column":26}},"4":{"start":{"line":13,"column":4},"end":{"line":13,"column":29}},"5":{"start":{"line":14,"column":4},"end":{"line":14,"column":59}},"6":{"start":{"line":15,"column":4},"end":{"line":15,"column":31}},"7":{"start":{"line":16,"column":4},"end":{"line":16,"column":26}},"8":{"start":{"line":25,"column":0},"end":{"line":27,"column":2}},"9":{"start":{"line":26,"column":2},"end":{"line":26,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":13},"end":{"line":9,"column":14}},"loc":{"start":{"line":9,"column":29},"end":{"line":18,"column":1}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":42},"end":{"line":10,"column":43}},"loc":{"start":{"line":10,"column":59},"end":{"line":17,"column":3}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":15},"end":{"line":25,"column":16}},"loc":{"start":{"line":25,"column":31},"end":{"line":27,"column":1}},"line":25}},"branchMap":{},"s":{"0":1,"1":11,"2":11,"3":11,"4":11,"5":11,"6":11,"7":11,"8":1,"9":11},"f":{"0":11,"1":11,"2":11},"b":{},"inputSourceMap":{"version":3,"sources":["20220312193340_create_users_table.js"],"names":["exports","up","knex","schema","createTable","table","string","timestamp","defaultTo","fn","now","uuid","primary","unique","down","dropTable"],"mappings":";;AAAA;;AACA;AACA;AACA;AACA;AACAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AACzB,SAAOA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwB,OAAxB,EAAiC,UAAUC,KAAV,EAAiB;AACrDA,IAAAA,KAAK,CAACC,MAAN,CAAa,UAAb;AACAD,IAAAA,KAAK,CAACC,MAAN,CAAa,OAAb;AACAD,IAAAA,KAAK,CAACC,MAAN,CAAa,UAAb;AACAD,IAAAA,KAAK,CAACE,SAAN,CAAgB,YAAhB,EAA8BC,SAA9B,CAAwCN,IAAI,CAACO,EAAL,CAAQC,GAAR,EAAxC;AACAL,IAAAA,KAAK,CAACM,IAAN,CAAW,IAAX,EAAiBC,OAAjB;AACAP,IAAAA,KAAK,CAACQ,MAAN,CAAa,OAAb;AACH,GAPM,CAAP;AAQH,CATD;AAWA;AACA;AACA;AACA;;;AACAb,OAAO,CAACc,IAAR,GAAe,UAAUZ,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CAAYY,SAAZ,CAAsB,OAAtB,CAAP;AACH,CAFD","sourceRoot":"/Users/victor/work/lendsqr-test/migrations/","sourcesContent":["/* eslint-disable func-names */\n/**\n * @param { import(\"knex\").Knex } knex\n * @returns { Promise<void> }\n */\nexports.up = function (knex) {\n    return knex.schema.createTable('users', function (table) {\n        table.string('fullName')\n        table.string('email')\n        table.string('password')\n        table.timestamp('created_at').defaultTo(knex.fn.now())\n        table.uuid('id').primary()\n        table.unique('email')\n    })\n}\n\n/**\n * @param { import(\"knex\").Knex } knex\n * @returns { Promise<void> }\n */\nexports.down = function (knex) {\n    return knex.schema.dropTable('users')\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"22f90ef2650e588800385f418fbe76c06235e6f6","contentHash":"f95acd33a49ac6429f29cf2e189413d8494d758c136c1c4de0deafeff060b2d8"},"/Users/victor/work/lendsqr-test/migrations/20220312214541_create_wallets_table.js":{"path":"/Users/victor/work/lendsqr-test/migrations/20220312214541_create_wallets_table.js","statementMap":{"0":{"start":{"line":7,"column":0},"end":{"line":15,"column":2}},"1":{"start":{"line":8,"column":2},"end":{"line":14,"column":5}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":42}},"3":{"start":{"line":10,"column":4},"end":{"line":10,"column":26}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":59}},"5":{"start":{"line":12,"column":4},"end":{"line":12,"column":31}},"6":{"start":{"line":13,"column":4},"end":{"line":13,"column":50}},"7":{"start":{"line":22,"column":0},"end":{"line":24,"column":2}},"8":{"start":{"line":23,"column":2},"end":{"line":23,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":13},"end":{"line":7,"column":14}},"loc":{"start":{"line":7,"column":29},"end":{"line":15,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":44},"end":{"line":8,"column":45}},"loc":{"start":{"line":8,"column":61},"end":{"line":14,"column":3}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":15},"end":{"line":22,"column":16}},"loc":{"start":{"line":22,"column":31},"end":{"line":24,"column":1}},"line":22}},"branchMap":{},"s":{"0":1,"1":11,"2":11,"3":11,"4":11,"5":11,"6":11,"7":1,"8":11},"f":{"0":11,"1":11,"2":11},"b":{},"inputSourceMap":{"version":3,"sources":["20220312214541_create_wallets_table.js"],"names":["exports","up","knex","schema","createTable","table","float","defaultTo","string","timestamp","fn","now","uuid","primary","foreign","references","down","dropTable"],"mappings":";;AAAA;AACA;AACA;AACA;AACAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AACzB,SAAOA,IAAI,CAACC,MAAL,CAAYC,WAAZ,CAAwB,SAAxB,EAAmC,UAAUC,KAAV,EAAiB;AACvDA,IAAAA,KAAK,CAACC,KAAN,CAAY,SAAZ,EAAuBC,SAAvB,CAAiC,GAAjC;AACAF,IAAAA,KAAK,CAACG,MAAN,CAAa,OAAb;AACAH,IAAAA,KAAK,CAACI,SAAN,CAAgB,YAAhB,EAA8BF,SAA9B,CAAwCL,IAAI,CAACQ,EAAL,CAAQC,GAAR,EAAxC;AACAN,IAAAA,KAAK,CAACO,IAAN,CAAW,IAAX,EAAiBC,OAAjB;AACAR,IAAAA,KAAK,CAACS,OAAN,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,UAAlC;AACH,GANM,CAAP;AAOH,CARD;AAUA;AACA;AACA;AACA;;;AACAf,OAAO,CAACgB,IAAR,GAAe,UAAUd,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CAAYc,SAAZ,CAAsB,SAAtB,CAAP;AACH,CAFD","sourceRoot":"/Users/victor/work/lendsqr-test/migrations/","sourcesContent":["/**\n * @param { import(\"knex\").Knex } knex\n * @returns { Promise<void> }\n */\nexports.up = function (knex) {\n    return knex.schema.createTable('wallets', function (table) {\n        table.float('balance').defaultTo(0.0)\n        table.string('owner')\n        table.timestamp('created_at').defaultTo(knex.fn.now())\n        table.uuid('id').primary()\n        table.foreign('owner').references('users.id')\n    })\n}\n\n/**\n * @param { import(\"knex\").Knex } knex\n * @returns { Promise<void> }\n */\nexports.down = function (knex) {\n    return knex.schema.dropTable('wallets')\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"964a1a750cce16958a5a2c406513dae0ec6531ed","contentHash":"b7fbdeaeaad96a9c99aee2f65fa46b0905d7a2888cdc317cb3f709fcf9115335"},"/Users/victor/work/lendsqr-test/seeds/users.js":{"path":"/Users/victor/work/lendsqr-test/seeds/users.js","statementMap":{"0":{"start":{"line":5,"column":4},"end":{"line":5,"column":21}},"1":{"start":{"line":7,"column":15},"end":{"line":7,"column":32}},"2":{"start":{"line":14,"column":0},"end":{"line":56,"column":2}},"3":{"start":{"line":15,"column":20},"end":{"line":20,"column":3}},"4":{"start":{"line":21,"column":21},"end":{"line":21,"column":45}},"5":{"start":{"line":22,"column":2},"end":{"line":22,"column":73}},"6":{"start":{"line":23,"column":20},"end":{"line":28,"column":3}},"7":{"start":{"line":29,"column":21},"end":{"line":29,"column":45}},"8":{"start":{"line":30,"column":2},"end":{"line":30,"column":73}},"9":{"start":{"line":31,"column":20},"end":{"line":36,"column":3}},"10":{"start":{"line":37,"column":21},"end":{"line":37,"column":45}},"11":{"start":{"line":38,"column":2},"end":{"line":38,"column":73}},"12":{"start":{"line":39,"column":18},"end":{"line":42,"column":3}},"13":{"start":{"line":43,"column":18},"end":{"line":46,"column":3}},"14":{"start":{"line":47,"column":18},"end":{"line":50,"column":3}},"15":{"start":{"line":52,"column":2},"end":{"line":52,"column":28}},"16":{"start":{"line":53,"column":2},"end":{"line":53,"column":30}},"17":{"start":{"line":54,"column":2},"end":{"line":54,"column":64}},"18":{"start":{"line":55,"column":2},"end":{"line":55,"column":60}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":15},"end":{"line":14,"column":16}},"loc":{"start":{"line":14,"column":37},"end":{"line":56,"column":1}},"line":14}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":9,"4":9,"5":9,"6":9,"7":9,"8":9,"9":9,"10":9,"11":9,"12":9,"13":9,"14":9,"15":9,"16":9,"17":9,"18":9},"f":{"0":9},"b":{},"inputSourceMap":{"version":3,"sources":["users.js"],"names":["uuid","require","bcrypt","exports","seed","knex","testuser1","id","fullName","email","password","saltround1","genSalt","hash","testuser2","saltround2","testuser3","saltround3","wallet1","owner","wallet2","wallet3","del","insert"],"mappings":";;AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAWC,OAAO,CAAC,QAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;AAEA;AACA;AACA;AACA;;;AACAE,OAAO,CAACC,IAAR,GAAe,gBAAgBC,IAAhB,EAAsB;AACjC,QAAMC,SAAS,GAAG;AACdC,IAAAA,EAAE,EAAEP,IAAI,EADM;AAEdQ,IAAAA,QAAQ,EAAE,WAFI;AAGdC,IAAAA,KAAK,EAAE,qBAHO;AAIdC,IAAAA,QAAQ,EAAE;AAJI,GAAlB;AAMA,QAAMC,UAAU,GAAG,MAAMT,MAAM,CAACU,OAAP,CAAe,EAAf,CAAzB;AACAN,EAAAA,SAAS,CAACI,QAAV,GAAqB,MAAMR,MAAM,CAACW,IAAP,CAAYP,SAAS,CAACI,QAAtB,EAAgCC,UAAhC,CAA3B;AACA,QAAMG,SAAS,GAAG;AACdP,IAAAA,EAAE,EAAEP,IAAI,EADM;AAEdQ,IAAAA,QAAQ,EAAE,WAFI;AAGdC,IAAAA,KAAK,EAAE,qBAHO;AAIdC,IAAAA,QAAQ,EAAE;AAJI,GAAlB;AAMA,QAAMK,UAAU,GAAG,MAAMb,MAAM,CAACU,OAAP,CAAe,EAAf,CAAzB;AACAE,EAAAA,SAAS,CAACJ,QAAV,GAAqB,MAAMR,MAAM,CAACW,IAAP,CAAYP,SAAS,CAACI,QAAtB,EAAgCK,UAAhC,CAA3B;AACA,QAAMC,SAAS,GAAG;AACdT,IAAAA,EAAE,EAAEP,IAAI,EADM;AAEdQ,IAAAA,QAAQ,EAAE,WAFI;AAGdC,IAAAA,KAAK,EAAE,qBAHO;AAIdC,IAAAA,QAAQ,EAAE;AAJI,GAAlB;AAMA,QAAMO,UAAU,GAAG,MAAMf,MAAM,CAACU,OAAP,CAAe,EAAf,CAAzB;AACAI,EAAAA,SAAS,CAACN,QAAV,GAAqB,MAAMR,MAAM,CAACW,IAAP,CAAYG,SAAS,CAACN,QAAtB,EAAgCO,UAAhC,CAA3B;AACA,QAAMC,OAAO,GAAG;AACZX,IAAAA,EAAE,EAAEP,IAAI,EADI;AAEZmB,IAAAA,KAAK,EAAEb,SAAS,CAACC;AAFL,GAAhB;AAIA,QAAMa,OAAO,GAAG;AACZb,IAAAA,EAAE,EAAEP,IAAI,EADI;AAEZmB,IAAAA,KAAK,EAAEL,SAAS,CAACP;AAFL,GAAhB;AAIA,QAAMc,OAAO,GAAG;AACZd,IAAAA,EAAE,EAAEP,IAAI,EADI;AAEZmB,IAAAA,KAAK,EAAEH,SAAS,CAACT;AAFL,GAAhB,CAjCiC,CAqCjC;;AACA,QAAMF,IAAI,CAAC,OAAD,CAAJ,CAAciB,GAAd,EAAN;AACA,QAAMjB,IAAI,CAAC,SAAD,CAAJ,CAAgBiB,GAAhB,EAAN;AACA,QAAMjB,IAAI,CAAC,OAAD,CAAJ,CAAckB,MAAd,CAAqB,CAACjB,SAAD,EAAYQ,SAAZ,EAAuBE,SAAvB,CAArB,CAAN;AACA,QAAMX,IAAI,CAAC,SAAD,CAAJ,CAAgBkB,MAAhB,CAAuB,CAACL,OAAD,EAAUE,OAAV,EAAmBC,OAAnB,CAAvB,CAAN;AACH,CA1CD","sourceRoot":"/Users/victor/work/lendsqr-test/seeds/","sourcesContent":["const { uuid } = require('uuidv4')\nconst bcrypt = require('bcrypt')\n\n/**\n * @param { import(\"knex\").Knex } knex\n * @returns { Promise<void> }\n */\nexports.seed = async function (knex) {\n    const testuser1 = {\n        id: uuid(),\n        fullName: 'testuser1',\n        email: 'testuser1@gmail.com',\n        password: 'welcome@1',\n    }\n    const saltround1 = await bcrypt.genSalt(10)\n    testuser1.password = await bcrypt.hash(testuser1.password, saltround1)\n    const testuser2 = {\n        id: uuid(),\n        fullName: 'testuser2',\n        email: 'testuser2@gmail.com',\n        password: 'welcome@1',\n    }\n    const saltround2 = await bcrypt.genSalt(10)\n    testuser2.password = await bcrypt.hash(testuser1.password, saltround2)\n    const testuser3 = {\n        id: uuid(),\n        fullName: 'testuser3',\n        email: 'testuser3@gmail.com',\n        password: 'welcome@1',\n    }\n    const saltround3 = await bcrypt.genSalt(10)\n    testuser3.password = await bcrypt.hash(testuser3.password, saltround3)\n    const wallet1 = {\n        id: uuid(),\n        owner: testuser1.id,\n    }\n    const wallet2 = {\n        id: uuid(),\n        owner: testuser2.id,\n    }\n    const wallet3 = {\n        id: uuid(),\n        owner: testuser3.id,\n    }\n    // Deletes ALL existing entries\n    await knex('users').del()\n    await knex('wallets').del()\n    await knex('users').insert([testuser1, testuser2, testuser3])\n    await knex('wallets').insert([wallet1, wallet2, wallet3])\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a98d9ef8eea378327d47319817d85bf692282da3","contentHash":"5375dfc2f806bd12537196fbb6003c16676d78f8ef4021205652002bdabcf50b"}}